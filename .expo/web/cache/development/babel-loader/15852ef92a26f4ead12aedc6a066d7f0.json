{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _first4 = _interopRequireDefault(require(\"lodash/first\"));\n\nvar _invoke = _interopRequireDefault(require(\"lodash/invoke\"));\n\nvar _values = _interopRequireDefault(require(\"lodash/values\"));\n\nvar _isFunction = _interopRequireDefault(require(\"lodash/isFunction\"));\n\nvar _throttle = _interopRequireDefault(require(\"lodash/throttle\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _memoizeOne = _interopRequireDefault(require(\"memoize-one\"));\n\nvar _xdate = _interopRequireDefault(require(\"xdate\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _testIDs = require(\"../testIDs\");\n\nvar _dateutils = require(\"../dateutils\");\n\nvar _interface = require(\"../interface\");\n\nvar _style = _interopRequireWildcard(require(\"./style\"));\n\nvar _calendarList = _interopRequireDefault(require(\"../calendar-list\"));\n\nvar _calendar = _interopRequireDefault(require(\"../calendar\"));\n\nvar _asCalendarConsumer = _interopRequireDefault(require(\"./asCalendarConsumer\"));\n\nvar _WeekCalendar = _interopRequireDefault(require(\"./WeekCalendar\"));\n\nvar _week = _interopRequireDefault(require(\"./week\"));\n\nvar _excluded = [\"style\", \"hideKnob\", \"horizontal\", \"allowShadow\", \"theme\"];\nvar _jsxFileName = \"D:\\\\folder\\\\please-attendence\\\\node_modules\\\\react-native-calendars\\\\src\\\\expandableCalendar\\\\index.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar commons = require('./commons');\n\nvar updateSources = commons.UpdateSources;\nvar Positions;\n\n(function (Positions) {\n  Positions[\"CLOSED\"] = \"closed\";\n  Positions[\"OPEN\"] = \"open\";\n})(Positions || (Positions = {}));\n\nvar SPEED = 20;\nvar BOUNCINESS = 6;\nvar CLOSED_HEIGHT = 120;\nvar WEEK_HEIGHT = 46;\nvar KNOB_CONTAINER_HEIGHT = 20;\nvar DAY_NAMES_PADDING = 24;\nvar PAN_GESTURE_THRESHOLD = 30;\n\nvar LEFT_ARROW = require('../calendar/img/previous.png');\n\nvar RIGHT_ARROW = require('../calendar/img/next.png');\n\nvar ExpandableCalendar = function (_Component) {\n  (0, _inherits2.default)(ExpandableCalendar, _Component);\n\n  var _super = _createSuper(ExpandableCalendar);\n\n  function ExpandableCalendar(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, ExpandableCalendar);\n    _this = _super.call(this, props);\n    _this.style = (0, _style.default)(_this.props.theme);\n    _this.header = _react.default.createRef();\n    _this.wrapper = _react.default.createRef();\n    _this.calendar = _react.default.createRef();\n    _this.weekCalendar = _react.default.createRef();\n\n    _this.handleScreenReaderStatus = function (screenReaderEnabled) {\n      _this.setState({\n        screenReaderEnabled: screenReaderEnabled\n      });\n    };\n\n    _this.handleMoveShouldSetPanResponder = function (_, gestureState) {\n      if (_this.props.disablePan) {\n        return false;\n      }\n\n      if (!_this.props.horizontal && _this.state.position === Positions.OPEN) {\n        return false;\n      }\n\n      if (_this.state.position === Positions.CLOSED && gestureState.dy < 0) {\n        return false;\n      }\n\n      return gestureState.dy > 5 || gestureState.dy < -5;\n    };\n\n    _this.handlePanResponderMove = function (_, gestureState) {\n      _this._wrapperStyles.style.height = Math.max(_this.closedHeight, _this._height + gestureState.dy);\n\n      if (!_this.props.horizontal) {\n        _this._headerStyles.style.top = Math.min(Math.max(-gestureState.dy, -_style.HEADER_HEIGHT), 0);\n      } else {\n        if (_this.state.position === Positions.CLOSED) {\n          _this._weekCalendarStyles.style.opacity = Math.min(1, Math.max(1 - gestureState.dy / 100, 0));\n        }\n      }\n\n      _this.updateNativeStyles();\n    };\n\n    _this.handlePanResponderEnd = function () {\n      _this._height = Number(_this._wrapperStyles.style.height);\n\n      _this.bounceToPosition();\n    };\n\n    _this.onAnimatedFinished = function (result) {\n      if (result != null && result.finished) {}\n    };\n\n    _this.onPressArrowLeft = function () {\n      (0, _invoke.default)(_this.props, 'onPressArrowLeft');\n\n      _this.scrollPage(false);\n    };\n\n    _this.onPressArrowRight = function () {\n      (0, _invoke.default)(_this.props, 'onPressArrowRight');\n\n      _this.scrollPage(true);\n    };\n\n    _this.onDayPress = function (value) {\n      (0, _invoke.default)(_this.props.context, 'setDate', value.dateString, updateSources.DAY_PRESS);\n      setTimeout(function () {\n        if (_this.state.position === Positions.OPEN) {\n          _this.bounceToPosition(_this.closedHeight);\n        }\n      }, 0);\n\n      if (_this.props.onDayPress) {\n        _this.props.onDayPress(value);\n      }\n    };\n\n    _this.onVisibleMonthsChange = (0, _throttle.default)(function (value) {\n      var _first;\n\n      var month = (_first = (0, _first4.default)(value)) == null ? void 0 : _first.month;\n\n      if (month && _this.visibleMonth !== month) {\n        var _first2;\n\n        _this.visibleMonth = month;\n\n        if ((_first2 = (0, _first4.default)(value)) != null && _first2.year) {\n          var _first3;\n\n          _this.visibleYear = (_first3 = (0, _first4.default)(value)) == null ? void 0 : _first3.year;\n        }\n\n        var _this$props$context = _this.props.context,\n            date = _this$props$context.date,\n            updateSource = _this$props$context.updateSource;\n\n        if (_this.visibleMonth !== _this.getMonth(date) && updateSource !== updateSources.DAY_PRESS) {\n          var next = _this.isLaterDate((0, _first4.default)(value), date);\n\n          _this.scrollPage(next);\n        }\n\n        setTimeout(function () {\n          var numberOfWeeks = _this.getNumberOfWeeksInMonth((0, _interface.parseDate)(_this.props.context.date));\n\n          if (numberOfWeeks !== _this.numberOfWeeks) {\n            _this.numberOfWeeks = numberOfWeeks;\n            _this.openHeight = _this.getOpenHeight();\n\n            if (_this.state.position === Positions.OPEN) {\n              _this.bounceToPosition(_this.openHeight);\n            }\n          }\n        }, 0);\n      }\n    }, 100, {\n      trailing: true,\n      leading: false\n    });\n    _this.getWeekDaysStyle = (0, _memoizeOne.default)(function (calendarStyle) {\n      return [_this.style.weekDayNames, {\n        paddingLeft: (calendarStyle == null ? void 0 : calendarStyle.paddingLeft) + 6 || DAY_NAMES_PADDING,\n        paddingRight: (calendarStyle == null ? void 0 : calendarStyle.paddingRight) + 6 || DAY_NAMES_PADDING\n      }];\n    });\n    _this.renderWeekDaysNames = (0, _memoizeOne.default)(function (weekDaysNames, calendarStyle) {\n      return _react.default.createElement(_reactNative.View, {\n        style: _this.getWeekDaysStyle(calendarStyle),\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 17\n        }\n      }, weekDaysNames.map(function (day, index) {\n        return _react.default.createElement(_reactNative.Text, {\n          allowFontScaling: false,\n          key: day + index,\n          style: _this.style.weekday,\n          numberOfLines: 1,\n          __self: (0, _assertThisInitialized2.default)(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 45\n          }\n        }, day);\n      }));\n    });\n\n    _this.renderArrow = function (direction) {\n      var _this$props = _this.props,\n          renderArrow = _this$props.renderArrow,\n          _this$props$rightArro = _this$props.rightArrowImageSource,\n          rightArrowImageSource = _this$props$rightArro === void 0 ? RIGHT_ARROW : _this$props$rightArro,\n          _this$props$leftArrow = _this$props.leftArrowImageSource,\n          leftArrowImageSource = _this$props$leftArrow === void 0 ? LEFT_ARROW : _this$props$leftArrow,\n          testID = _this$props.testID;\n\n      if ((0, _isFunction.default)(renderArrow)) {\n        return renderArrow(direction);\n      }\n\n      return _react.default.createElement(_reactNative.Image, {\n        source: direction === 'right' ? rightArrowImageSource : leftArrowImageSource,\n        style: _this.style.arrowImage,\n        testID: testID + \"-\" + direction + \"-arrow\",\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 17\n        }\n      });\n    };\n\n    _this.closedHeight = CLOSED_HEIGHT + (props.hideKnob ? 0 : KNOB_CONTAINER_HEIGHT);\n    _this.numberOfWeeks = _this.getNumberOfWeeksInMonth(new _xdate.default(_this.props.context.date));\n    _this.openHeight = _this.getOpenHeight();\n    var startHeight = props.initialPosition === Positions.CLOSED ? _this.closedHeight : _this.openHeight;\n    _this._height = startHeight;\n    _this._wrapperStyles = {\n      style: {\n        height: startHeight\n      }\n    };\n    _this._headerStyles = {\n      style: {\n        top: props.initialPosition === Positions.CLOSED ? 0 : -_style.HEADER_HEIGHT\n      }\n    };\n    _this._weekCalendarStyles = {\n      style: {}\n    };\n    _this.visibleMonth = _this.getMonth(_this.props.context.date);\n    _this.visibleYear = _this.getYear(_this.props.context.date);\n    _this.initialDate = new _xdate.default(props.context.date);\n    _this.headerStyleOverride = {\n      stylesheet: {\n        calendar: {\n          header: {\n            week: {\n              marginTop: 7,\n              marginBottom: -4,\n              flexDirection: 'row',\n              justifyContent: 'space-around'\n            }\n          }\n        }\n      }\n    };\n    _this.state = {\n      deltaY: new _reactNative.Animated.Value(startHeight),\n      headerDeltaY: new _reactNative.Animated.Value(props.initialPosition === Positions.CLOSED ? 0 : -_style.HEADER_HEIGHT),\n      position: props.initialPosition || Positions.CLOSED,\n      screenReaderEnabled: false\n    };\n    _this.panResponder = _reactNative.PanResponder.create({\n      onMoveShouldSetPanResponder: _this.handleMoveShouldSetPanResponder,\n      onPanResponderMove: _this.handlePanResponderMove,\n      onPanResponderRelease: _this.handlePanResponderEnd,\n      onPanResponderTerminate: _this.handlePanResponderEnd\n    });\n    return _this;\n  }\n\n  (0, _createClass2.default)(ExpandableCalendar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (_reactNative.AccessibilityInfo) {\n        if (_reactNative.AccessibilityInfo.isScreenReaderEnabled) {\n          _reactNative.AccessibilityInfo.isScreenReaderEnabled().then(this.handleScreenReaderStatus);\n        } else if (_reactNative.AccessibilityInfo.fetch) {\n          _reactNative.AccessibilityInfo.fetch().then(this.handleScreenReaderStatus);\n        }\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var date = this.props.context.date;\n\n      if (date !== prevProps.context.date) {\n        this.scrollToDate(date);\n      }\n    }\n  }, {\n    key: \"updateNativeStyles\",\n    value: function updateNativeStyles() {\n      var _this$wrapper, _this$wrapper$current;\n\n      (_this$wrapper = this.wrapper) == null ? void 0 : (_this$wrapper$current = _this$wrapper.current) == null ? void 0 : _this$wrapper$current.setNativeProps(this._wrapperStyles);\n\n      if (!this.props.horizontal) {\n        var _this$header, _this$header$current;\n\n        (_this$header = this.header) == null ? void 0 : (_this$header$current = _this$header.current) == null ? void 0 : _this$header$current.setNativeProps(this._headerStyles);\n      } else {\n        var _this$weekCalendar, _this$weekCalendar$cu;\n\n        (_this$weekCalendar = this.weekCalendar) == null ? void 0 : (_this$weekCalendar$cu = _this$weekCalendar.current) == null ? void 0 : _this$weekCalendar$cu.setNativeProps(this._weekCalendarStyles);\n      }\n    }\n  }, {\n    key: \"scrollToDate\",\n    value: function scrollToDate(date) {\n      if (!this.props.horizontal) {\n        var _this$calendar, _this$calendar$curren;\n\n        (_this$calendar = this.calendar) == null ? void 0 : (_this$calendar$curren = _this$calendar.current) == null ? void 0 : _this$calendar$curren.scrollToDay(new _xdate.default(date), 0, true);\n      } else if (this.getYear(date) !== this.visibleYear || this.getMonth(date) !== this.visibleMonth) {\n        var _this$calendar2, _this$calendar2$curre;\n\n        (_this$calendar2 = this.calendar) == null ? void 0 : (_this$calendar2$curre = _this$calendar2.current) == null ? void 0 : _this$calendar2$curre.scrollToMonth(new _xdate.default(date));\n      }\n    }\n  }, {\n    key: \"scrollPage\",\n    value: function scrollPage(next) {\n      if (this.props.horizontal) {\n        var d = (0, _interface.parseDate)(this.props.context.date);\n\n        if (this.state.position === Positions.OPEN) {\n          d.setDate(1);\n          d.addMonths(next ? 1 : -1);\n        } else {\n          var _this$props$firstDay = this.props.firstDay,\n              firstDay = _this$props$firstDay === void 0 ? 0 : _this$props$firstDay;\n          var dayOfTheWeek = d.getDay();\n\n          if (dayOfTheWeek < firstDay && firstDay > 0) {\n            dayOfTheWeek = 7 + dayOfTheWeek;\n          }\n\n          var firstDayOfWeek = (next ? 7 : -7) - dayOfTheWeek + firstDay;\n          d.addDays(firstDayOfWeek);\n        }\n\n        (0, _invoke.default)(this.props.context, 'setDate', (0, _interface.toMarkingFormat)(d), updateSources.PAGE_SCROLL);\n      }\n    }\n  }, {\n    key: \"getOpenHeight\",\n    value: function getOpenHeight() {\n      if (!this.props.horizontal) {\n        return Math.max(commons.screenHeight, commons.screenWidth);\n      }\n\n      return CLOSED_HEIGHT + WEEK_HEIGHT * (this.numberOfWeeks - 1) + (this.props.hideKnob ? 12 : KNOB_CONTAINER_HEIGHT);\n    }\n  }, {\n    key: \"getYear\",\n    value: function getYear(date) {\n      var d = new _xdate.default(date);\n      return d.getFullYear();\n    }\n  }, {\n    key: \"getMonth\",\n    value: function getMonth(date) {\n      var d = new _xdate.default(date);\n      return d.getMonth() + 1;\n    }\n  }, {\n    key: \"getNumberOfWeeksInMonth\",\n    value: function getNumberOfWeeksInMonth(month) {\n      var days = (0, _dateutils.page)(month, this.props.firstDay);\n      return days.length / 7;\n    }\n  }, {\n    key: \"shouldHideArrows\",\n    value: function shouldHideArrows() {\n      if (!this.props.horizontal) {\n        return true;\n      }\n\n      return this.props.hideArrows || false;\n    }\n  }, {\n    key: \"isLaterDate\",\n    value: function isLaterDate(date1, date2) {\n      if (date1 && date2) {\n        if (date1.year > this.getYear(date2)) {\n          return true;\n        }\n\n        if (date1.year === this.getYear(date2)) {\n          if (date1.month > this.getMonth(date2)) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"bounceToPosition\",\n    value: function bounceToPosition() {\n      var toValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (!this.props.disablePan) {\n        var _this$state = this.state,\n            deltaY = _this$state.deltaY,\n            position = _this$state.position;\n        var _this$props2 = this.props,\n            _this$props2$openThre = _this$props2.openThreshold,\n            openThreshold = _this$props2$openThre === void 0 ? PAN_GESTURE_THRESHOLD : _this$props2$openThre,\n            _this$props2$closeThr = _this$props2.closeThreshold,\n            closeThreshold = _this$props2$closeThr === void 0 ? PAN_GESTURE_THRESHOLD : _this$props2$closeThr;\n        var threshold = position === Positions.OPEN ? this.openHeight - closeThreshold : this.closedHeight + openThreshold;\n        var isOpen = this._height >= threshold;\n        var newValue = isOpen ? this.openHeight : this.closedHeight;\n        deltaY.setValue(this._height);\n        this._height = toValue || newValue;\n        isOpen = this._height >= threshold;\n\n        _reactNative.Animated.spring(deltaY, {\n          toValue: this._height,\n          speed: SPEED,\n          bounciness: BOUNCINESS,\n          useNativeDriver: false\n        }).start(this.onAnimatedFinished);\n\n        (0, _invoke.default)(this.props, 'onCalendarToggled', isOpen);\n        this.setPosition();\n        this.closeHeader(isOpen);\n        this.resetWeekCalendarOpacity(isOpen);\n      }\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition() {\n      var isClosed = this._height === this.closedHeight;\n      this.setState({\n        position: isClosed ? Positions.CLOSED : Positions.OPEN\n      });\n    }\n  }, {\n    key: \"resetWeekCalendarOpacity\",\n    value: function resetWeekCalendarOpacity(isOpen) {\n      this._weekCalendarStyles.style.opacity = isOpen ? 0 : 1;\n      this.updateNativeStyles();\n    }\n  }, {\n    key: \"closeHeader\",\n    value: function closeHeader(isOpen) {\n      var headerDeltaY = this.state.headerDeltaY;\n      headerDeltaY.setValue(Number(this._headerStyles.style.top));\n\n      if (!this.props.horizontal && !isOpen) {\n        _reactNative.Animated.spring(headerDeltaY, {\n          toValue: 0,\n          speed: SPEED / 10,\n          bounciness: 1,\n          useNativeDriver: false\n        }).start();\n      }\n    }\n  }, {\n    key: \"renderHeader\",\n    value: function renderHeader() {\n      var monthYear = new _xdate.default(this.props.context.date).toString('MMMM yyyy');\n      var weekDaysNames = (0, _dateutils.weekDayNames)(this.props.firstDay);\n      return _react.default.createElement(_reactNative.Animated.View, {\n        ref: this.header,\n        style: [this.style.header, {\n          height: _style.HEADER_HEIGHT,\n          top: this.state.headerDeltaY\n        }],\n        pointerEvents: 'none',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        allowFontScaling: false,\n        style: this.style.headerTitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 9\n        }\n      }, monthYear), this.renderWeekDaysNames(weekDaysNames, this.props.calendarStyle));\n    }\n  }, {\n    key: \"renderWeekCalendar\",\n    value: function renderWeekCalendar() {\n      var position = this.state.position;\n      var disableWeekScroll = this.props.disableWeekScroll;\n      var WeekComponent = disableWeekScroll ? _week.default : _WeekCalendar.default;\n      var weekCalendarProps = disableWeekScroll ? undefined : {\n        allowShadow: false\n      };\n      return _react.default.createElement(_reactNative.Animated.View, {\n        ref: this.weekCalendar,\n        style: [this.style.weekContainer, position === Positions.OPEN ? this.style.hidden : this.style.visible],\n        pointerEvents: position === Positions.CLOSED ? 'auto' : 'none',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(WeekComponent, (0, _extends2.default)({}, this.props, weekCalendarProps, {\n        current: this.props.context.date,\n        onDayPress: this.onDayPress,\n        style: this.props.calendarStyle,\n        hideDayNames: true,\n        accessibilityElementsHidden: true,\n        importantForAccessibility: 'no-hide-descendants',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 9\n        }\n      })));\n    }\n  }, {\n    key: \"renderKnob\",\n    value: function renderKnob() {\n      return _react.default.createElement(_reactNative.View, {\n        style: this.style.knobContainer,\n        pointerEvents: 'none',\n        testID: this.props.testID + \"-knob\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: this.style.knob,\n        testID: _testIDs.CALENDAR_KNOB,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 9\n        }\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          style = _this$props3.style,\n          hideKnob = _this$props3.hideKnob,\n          horizontal = _this$props3.horizontal,\n          allowShadow = _this$props3.allowShadow,\n          theme = _this$props3.theme,\n          others = (0, _objectWithoutProperties2.default)(_this$props3, _excluded);\n      var _this$state2 = this.state,\n          deltaY = _this$state2.deltaY,\n          position = _this$state2.position,\n          screenReaderEnabled = _this$state2.screenReaderEnabled;\n      var isOpen = position === Positions.OPEN;\n      var themeObject = (0, _extends2.default)(this.headerStyleOverride, theme);\n      return _react.default.createElement(_reactNative.View, {\n        testID: this.props.testID,\n        style: [allowShadow && this.style.containerShadow, style],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 17\n        }\n      }, screenReaderEnabled ? _react.default.createElement(_calendar.default, (0, _extends2.default)({\n        testID: \"calendar\"\n      }, others, {\n        theme: themeObject,\n        onDayPress: this.onDayPress,\n        hideExtraDays: true,\n        renderArrow: this.renderArrow,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 33\n        }\n      })) : _react.default.createElement(_reactNative.Animated.View, (0, _extends2.default)({\n        ref: this.wrapper,\n        style: {\n          height: deltaY\n        }\n      }, this.panResponder.panHandlers, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 173\n        }\n      }), _react.default.createElement(_calendarList.default, (0, _extends2.default)({\n        testID: \"calendar\",\n        horizontal: horizontal\n      }, others, {\n        theme: themeObject,\n        ref: this.calendar,\n        current: this.initialDate,\n        onDayPress: this.onDayPress,\n        onVisibleMonthsChange: this.onVisibleMonthsChange,\n        pagingEnabled: true,\n        scrollEnabled: isOpen,\n        hideArrows: this.shouldHideArrows(),\n        onPressArrowLeft: this.onPressArrowLeft,\n        onPressArrowRight: this.onPressArrowRight,\n        hideExtraDays: !horizontal,\n        renderArrow: this.renderArrow,\n        staticHeader: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }\n      })), horizontal && this.renderWeekCalendar(), !hideKnob && this.renderKnob(), !horizontal && this.renderHeader()));\n    }\n  }]);\n  return ExpandableCalendar;\n}(_react.Component);\n\nExpandableCalendar.displayName = 'ExpandableCalendar';\nExpandableCalendar.propTypes = (0, _extends2.default)({}, _calendarList.default.propTypes, {\n  initialPosition: _propTypes.default.oneOf((0, _values.default)(Positions)),\n  onCalendarToggled: _propTypes.default.func,\n  disablePan: _propTypes.default.bool,\n  hideKnob: _propTypes.default.bool,\n  leftArrowImageSource: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.number, _propTypes.default.func]),\n  rightArrowImageSource: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.number, _propTypes.default.func]),\n  allowShadow: _propTypes.default.bool,\n  disableWeekScroll: _propTypes.default.bool,\n  openThreshold: _propTypes.default.number,\n  closeThreshold: _propTypes.default.number\n});\nExpandableCalendar.defaultProps = {\n  horizontal: true,\n  initialPosition: Positions.CLOSED,\n  firstDay: 0,\n  leftArrowImageSource: LEFT_ARROW,\n  rightArrowImageSource: RIGHT_ARROW,\n  allowShadow: true,\n  openThreshold: PAN_GESTURE_THRESHOLD,\n  closeThreshold: PAN_GESTURE_THRESHOLD\n};\nExpandableCalendar.positions = Positions;\n\nvar _default = (0, _asCalendarConsumer.default)(ExpandableCalendar);\n\nexports.default = _default;","map":{"version":3,"sources":["D:/folder/please-attendence/node_modules/react-native-calendars/src/expandableCalendar/index.js"],"names":["commons","require","updateSources","UpdateSources","Positions","SPEED","BOUNCINESS","CLOSED_HEIGHT","WEEK_HEIGHT","KNOB_CONTAINER_HEIGHT","DAY_NAMES_PADDING","PAN_GESTURE_THRESHOLD","LEFT_ARROW","RIGHT_ARROW","ExpandableCalendar","props","style","theme","header","React","createRef","wrapper","calendar","weekCalendar","handleScreenReaderStatus","screenReaderEnabled","setState","handleMoveShouldSetPanResponder","_","gestureState","disablePan","horizontal","state","position","OPEN","CLOSED","dy","handlePanResponderMove","_wrapperStyles","height","Math","max","closedHeight","_height","_headerStyles","top","min","HEADER_HEIGHT","_weekCalendarStyles","opacity","updateNativeStyles","handlePanResponderEnd","Number","bounceToPosition","onAnimatedFinished","result","finished","onPressArrowLeft","scrollPage","onPressArrowRight","onDayPress","value","context","dateString","DAY_PRESS","setTimeout","onVisibleMonthsChange","month","visibleMonth","year","visibleYear","date","updateSource","getMonth","next","isLaterDate","numberOfWeeks","getNumberOfWeeksInMonth","openHeight","getOpenHeight","trailing","leading","getWeekDaysStyle","calendarStyle","weekDayNames","paddingLeft","paddingRight","renderWeekDaysNames","weekDaysNames","map","day","index","weekday","renderArrow","direction","rightArrowImageSource","leftArrowImageSource","testID","arrowImage","hideKnob","XDate","startHeight","initialPosition","getYear","initialDate","headerStyleOverride","stylesheet","week","marginTop","marginBottom","flexDirection","justifyContent","deltaY","Animated","Value","headerDeltaY","panResponder","PanResponder","create","onMoveShouldSetPanResponder","onPanResponderMove","onPanResponderRelease","onPanResponderTerminate","AccessibilityInfo","isScreenReaderEnabled","then","fetch","prevProps","scrollToDate","current","setNativeProps","scrollToDay","scrollToMonth","d","setDate","addMonths","firstDay","dayOfTheWeek","getDay","firstDayOfWeek","addDays","PAGE_SCROLL","screenHeight","screenWidth","getFullYear","days","length","hideArrows","date1","date2","toValue","openThreshold","closeThreshold","threshold","isOpen","newValue","setValue","spring","speed","bounciness","useNativeDriver","start","setPosition","closeHeader","resetWeekCalendarOpacity","isClosed","monthYear","toString","headerTitle","disableWeekScroll","WeekComponent","Week","WeekCalendar","weekCalendarProps","undefined","allowShadow","weekContainer","hidden","visible","knobContainer","knob","CALENDAR_KNOB","others","themeObject","containerShadow","panHandlers","shouldHideArrows","renderWeekCalendar","renderKnob","renderHeader","Component","displayName","propTypes","CalendarList","PropTypes","oneOf","onCalendarToggled","func","bool","oneOfType","object","number","defaultProps","positions"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;AACA,IAAMA,OAAO,GAAGC,OAAO,CAAC,WAAD,CAAvB;;AACA,IAAMC,aAAa,GAAGF,OAAO,CAACG,aAA9B;AACA,IAAIC,SAAJ;;AACA,CAAC,UAAUA,SAAV,EAAqB;AAClBA,EAAAA,SAAS,CAAC,QAAD,CAAT,GAAsB,QAAtB;AACAA,EAAAA,SAAS,CAAC,MAAD,CAAT,GAAoB,MAApB;AACH,CAHD,EAGGA,SAAS,KAAKA,SAAS,GAAG,EAAjB,CAHZ;;AAIA,IAAMC,KAAK,GAAG,EAAd;AACA,IAAMC,UAAU,GAAG,CAAnB;AACA,IAAMC,aAAa,GAAG,GAAtB;AACA,IAAMC,WAAW,GAAG,EAApB;AACA,IAAMC,qBAAqB,GAAG,EAA9B;AACA,IAAMC,iBAAiB,GAAG,EAA1B;AACA,IAAMC,qBAAqB,GAAG,EAA9B;;AACA,IAAMC,UAAU,GAAGX,OAAO,CAAC,8BAAD,CAA1B;;AACA,IAAMY,WAAW,GAAGZ,OAAO,CAAC,0BAAD,CAA3B;;IAQMa,kB;;;;;AAqDF,8BAAYC,KAAZ,EAAmB;AAAA;;AAAA;AACf,8BAAMA,KAAN;AADe,UAjBnBC,KAiBmB,GAjBX,oBAAiB,MAAKD,KAAL,CAAWE,KAA5B,CAiBW;AAAA,UAJnBC,MAImB,GAJVC,eAAMC,SAAN,EAIU;AAAA,UAHnBC,OAGmB,GAHTF,eAAMC,SAAN,EAGS;AAAA,UAFnBE,QAEmB,GAFRH,eAAMC,SAAN,EAEQ;AAAA,UADnBG,YACmB,GADJJ,eAAMC,SAAN,EACI;;AAAA,UA0DnBI,wBA1DmB,GA0DQ,UAACC,mBAAD,EAAyB;AAChD,YAAKC,QAAL,CAAc;AAAED,QAAAA,mBAAmB,EAAnBA;AAAF,OAAd;AACH,KA5DkB;;AAAA,UA2InBE,+BA3ImB,GA2Ie,UAACC,CAAD,EAAIC,YAAJ,EAAqB;AACnD,UAAI,MAAKd,KAAL,CAAWe,UAAf,EAA2B;AACvB,eAAO,KAAP;AACH;;AACD,UAAI,CAAC,MAAKf,KAAL,CAAWgB,UAAZ,IAA0B,MAAKC,KAAL,CAAWC,QAAX,KAAwB7B,SAAS,CAAC8B,IAAhE,EAAsE;AAElE,eAAO,KAAP;AACH;;AACD,UAAI,MAAKF,KAAL,CAAWC,QAAX,KAAwB7B,SAAS,CAAC+B,MAAlC,IAA4CN,YAAY,CAACO,EAAb,GAAkB,CAAlE,EAAqE;AAEjE,eAAO,KAAP;AACH;;AACD,aAAOP,YAAY,CAACO,EAAb,GAAkB,CAAlB,IAAuBP,YAAY,CAACO,EAAb,GAAkB,CAAC,CAAjD;AACH,KAxJkB;;AAAA,UAyJnBC,sBAzJmB,GAyJM,UAACT,CAAD,EAAIC,YAAJ,EAAqB;AAE1C,YAAKS,cAAL,CAAoBtB,KAApB,CAA0BuB,MAA1B,GAAmCC,IAAI,CAACC,GAAL,CAAS,MAAKC,YAAd,EAA4B,MAAKC,OAAL,GAAed,YAAY,CAACO,EAAxD,CAAnC;;AACA,UAAI,CAAC,MAAKrB,KAAL,CAAWgB,UAAhB,EAA4B;AAExB,cAAKa,aAAL,CAAmB5B,KAAnB,CAAyB6B,GAAzB,GAA+BL,IAAI,CAACM,GAAL,CAASN,IAAI,CAACC,GAAL,CAAS,CAACZ,YAAY,CAACO,EAAvB,EAA2B,CAACW,oBAA5B,CAAT,EAAqD,CAArD,CAA/B;AACH,OAHD,MAIK;AAED,YAAI,MAAKf,KAAL,CAAWC,QAAX,KAAwB7B,SAAS,CAAC+B,MAAtC,EAA8C;AAC1C,gBAAKa,mBAAL,CAAyBhC,KAAzB,CAA+BiC,OAA/B,GAAyCT,IAAI,CAACM,GAAL,CAAS,CAAT,EAAYN,IAAI,CAACC,GAAL,CAAS,IAAIZ,YAAY,CAACO,EAAb,GAAkB,GAA/B,EAAoC,CAApC,CAAZ,CAAzC;AACH;AACJ;;AACD,YAAKc,kBAAL;AACH,KAvKkB;;AAAA,UAwKnBC,qBAxKmB,GAwKK,YAAM;AAC1B,YAAKR,OAAL,GAAeS,MAAM,CAAC,MAAKd,cAAL,CAAoBtB,KAApB,CAA0BuB,MAA3B,CAArB;;AACA,YAAKc,gBAAL;AACH,KA3KkB;;AAAA,UAmMnBC,kBAnMmB,GAmME,UAACC,MAAD,EAAY;AAC7B,UAAIA,MAAJ,YAAIA,MAAM,CAAEC,QAAZ,EAAsB,CAErB;AACJ,KAvMkB;;AAAA,UA6NnBC,gBA7NmB,GA6NA,YAAM;AACrB,2BAAO,MAAK1C,KAAZ,EAAmB,kBAAnB;;AACA,YAAK2C,UAAL,CAAgB,KAAhB;AACH,KAhOkB;;AAAA,UAiOnBC,iBAjOmB,GAiOC,YAAM;AACtB,2BAAO,MAAK5C,KAAZ,EAAmB,mBAAnB;;AACA,YAAK2C,UAAL,CAAgB,IAAhB;AACH,KApOkB;;AAAA,UAqOnBE,UArOmB,GAqON,UAACC,KAAD,EAAW;AAEpB,2BAAO,MAAK9C,KAAL,CAAW+C,OAAlB,EAA2B,SAA3B,EAAsCD,KAAK,CAACE,UAA5C,EAAwD7D,aAAa,CAAC8D,SAAtE;AACAC,MAAAA,UAAU,CAAC,YAAM;AAEb,YAAI,MAAKjC,KAAL,CAAWC,QAAX,KAAwB7B,SAAS,CAAC8B,IAAtC,EAA4C;AACxC,gBAAKmB,gBAAL,CAAsB,MAAKX,YAA3B;AACH;AACJ,OALS,EAKP,CALO,CAAV;;AAMA,UAAI,MAAK3B,KAAL,CAAW6C,UAAf,EAA2B;AACvB,cAAK7C,KAAL,CAAW6C,UAAX,CAAsBC,KAAtB;AACH;AACJ,KAjPkB;;AAAA,UAkPnBK,qBAlPmB,GAkPK,uBAAS,UAACL,KAAD,EAAW;AAAA;;AACxC,UAAMM,KAAK,aAAG,qBAAMN,KAAN,CAAH,qBAAG,OAAcM,KAA5B;;AACA,UAAIA,KAAK,IAAI,MAAKC,YAAL,KAAsBD,KAAnC,EAA0C;AAAA;;AACtC,cAAKC,YAAL,GAAoBD,KAApB;;AACA,uBAAI,qBAAMN,KAAN,CAAJ,aAAI,QAAcQ,IAAlB,EAAwB;AAAA;;AAEpB,gBAAKC,WAAL,cAAmB,qBAAMT,KAAN,CAAnB,qBAAmB,QAAcQ,IAAjC;AACH;;AAED,kCAA+B,MAAKtD,KAAL,CAAW+C,OAA1C;AAAA,YAAQS,IAAR,uBAAQA,IAAR;AAAA,YAAcC,YAAd,uBAAcA,YAAd;;AACA,YAAI,MAAKJ,YAAL,KAAsB,MAAKK,QAAL,CAAcF,IAAd,CAAtB,IAA6CC,YAAY,KAAKtE,aAAa,CAAC8D,SAAhF,EAA2F;AACvF,cAAMU,IAAI,GAAG,MAAKC,WAAL,CAAiB,qBAAMd,KAAN,CAAjB,EAA+BU,IAA/B,CAAb;;AACA,gBAAKb,UAAL,CAAgBgB,IAAhB;AACH;;AAEDT,QAAAA,UAAU,CAAC,YAAM;AAEb,cAAMW,aAAa,GAAG,MAAKC,uBAAL,CAA6B,0BAAU,MAAK9D,KAAL,CAAW+C,OAAX,CAAmBS,IAA7B,CAA7B,CAAtB;;AACA,cAAIK,aAAa,KAAK,MAAKA,aAA3B,EAA0C;AACtC,kBAAKA,aAAL,GAAqBA,aAArB;AACA,kBAAKE,UAAL,GAAkB,MAAKC,aAAL,EAAlB;;AACA,gBAAI,MAAK/C,KAAL,CAAWC,QAAX,KAAwB7B,SAAS,CAAC8B,IAAtC,EAA4C;AACxC,oBAAKmB,gBAAL,CAAsB,MAAKyB,UAA3B;AACH;AACJ;AACJ,SAVS,EAUP,CAVO,CAAV;AAWH;AACJ,KA3BuB,EA2BrB,GA3BqB,EA2BhB;AAAEE,MAAAA,QAAQ,EAAE,IAAZ;AAAkBC,MAAAA,OAAO,EAAE;AAA3B,KA3BgB,CAlPL;AAAA,UA+QnBC,gBA/QmB,GA+QA,yBAAQ,UAAAC,aAAa,EAAI;AACxC,aAAO,CACH,MAAKnE,KAAL,CAAWoE,YADR,EAEH;AACIC,QAAAA,WAAW,EAAE,CAAAF,aAAa,QAAb,YAAAA,aAAa,CAAEE,WAAf,IAA6B,CAA7B,IAAkC3E,iBADnD;AAEI4E,QAAAA,YAAY,EAAE,CAAAH,aAAa,QAAb,YAAAA,aAAa,CAAEG,YAAf,IAA8B,CAA9B,IAAmC5E;AAFrD,OAFG,CAAP;AAOH,KARkB,CA/QA;AAAA,UAwRnB6E,mBAxRmB,GAwRG,yBAAQ,UAACC,aAAD,EAAgBL,aAAhB,EAAkC;AAC5D,aAAQ,6BAAC,iBAAD;AAAM,QAAA,KAAK,EAAE,MAAKD,gBAAL,CAAsBC,aAAtB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACPK,aAAa,CAACC,GAAd,CAAkB,UAACC,GAAD,EAAMC,KAAN;AAAA,eAAiB,6BAAC,iBAAD;AAAM,UAAA,gBAAgB,EAAE,KAAxB;AAA+B,UAAA,GAAG,EAAED,GAAG,GAAGC,KAA1C;AAAiD,UAAA,KAAK,EAAE,MAAK3E,KAAL,CAAW4E,OAAnE;AAA4E,UAAA,aAAa,EAAE,CAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAC/BF,GAD+B,CAAjB;AAAA,OAAlB,CADO,CAAR;AAKH,KANqB,CAxRH;;AAAA,UA0TnBG,WA1TmB,GA0TL,UAACC,SAAD,EAAe;AACzB,wBAAwG,MAAK/E,KAA7G;AAAA,UAAQ8E,WAAR,eAAQA,WAAR;AAAA,8CAAqBE,qBAArB;AAAA,UAAqBA,qBAArB,sCAA6ClF,WAA7C;AAAA,8CAA0DmF,oBAA1D;AAAA,UAA0DA,oBAA1D,sCAAiFpF,UAAjF;AAAA,UAA6FqF,MAA7F,eAA6FA,MAA7F;;AACA,UAAI,yBAAWJ,WAAX,CAAJ,EAA6B;AACzB,eAAOA,WAAW,CAACC,SAAD,CAAlB;AACH;;AACD,aAAQ,6BAAC,kBAAD;AAAO,QAAA,MAAM,EAAEA,SAAS,KAAK,OAAd,GAAwBC,qBAAxB,GAAgDC,oBAA/D;AAAqF,QAAA,KAAK,EAAE,MAAKhF,KAAL,CAAWkF,UAAvG;AAAmH,QAAA,MAAM,EAAKD,MAAL,SAAeH,SAAf,WAAzH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AACH,KAhUkB;;AAEf,UAAKpD,YAAL,GAAoBnC,aAAa,IAAIQ,KAAK,CAACoF,QAAN,GAAiB,CAAjB,GAAqB1F,qBAAzB,CAAjC;AACA,UAAKmE,aAAL,GAAqB,MAAKC,uBAAL,CAA6B,IAAIuB,cAAJ,CAAU,MAAKrF,KAAL,CAAW+C,OAAX,CAAmBS,IAA7B,CAA7B,CAArB;AACA,UAAKO,UAAL,GAAkB,MAAKC,aAAL,EAAlB;AACA,QAAMsB,WAAW,GAAGtF,KAAK,CAACuF,eAAN,KAA0BlG,SAAS,CAAC+B,MAApC,GAA6C,MAAKO,YAAlD,GAAiE,MAAKoC,UAA1F;AACA,UAAKnC,OAAL,GAAe0D,WAAf;AACA,UAAK/D,cAAL,GAAsB;AAAEtB,MAAAA,KAAK,EAAE;AAAEuB,QAAAA,MAAM,EAAE8D;AAAV;AAAT,KAAtB;AACA,UAAKzD,aAAL,GAAqB;AAAE5B,MAAAA,KAAK,EAAE;AAAE6B,QAAAA,GAAG,EAAE9B,KAAK,CAACuF,eAAN,KAA0BlG,SAAS,CAAC+B,MAApC,GAA6C,CAA7C,GAAiD,CAACY;AAAzD;AAAT,KAArB;AACA,UAAKC,mBAAL,GAA2B;AAAEhC,MAAAA,KAAK,EAAE;AAAT,KAA3B;AACA,UAAKoD,YAAL,GAAoB,MAAKK,QAAL,CAAc,MAAK1D,KAAL,CAAW+C,OAAX,CAAmBS,IAAjC,CAApB;AACA,UAAKD,WAAL,GAAmB,MAAKiC,OAAL,CAAa,MAAKxF,KAAL,CAAW+C,OAAX,CAAmBS,IAAhC,CAAnB;AACA,UAAKiC,WAAL,GAAmB,IAAIJ,cAAJ,CAAUrF,KAAK,CAAC+C,OAAN,CAAcS,IAAxB,CAAnB;AACA,UAAKkC,mBAAL,GAA2B;AACvBC,MAAAA,UAAU,EAAE;AACRpF,QAAAA,QAAQ,EAAE;AACNJ,UAAAA,MAAM,EAAE;AACJyF,YAAAA,IAAI,EAAE;AACFC,cAAAA,SAAS,EAAE,CADT;AAEFC,cAAAA,YAAY,EAAE,CAAC,CAFb;AAGFC,cAAAA,aAAa,EAAE,KAHb;AAIFC,cAAAA,cAAc,EAAE;AAJd;AADF;AADF;AADF;AADW,KAA3B;AAcA,UAAK/E,KAAL,GAAa;AACTgF,MAAAA,MAAM,EAAE,IAAIC,sBAASC,KAAb,CAAmBb,WAAnB,CADC;AAETc,MAAAA,YAAY,EAAE,IAAIF,sBAASC,KAAb,CAAmBnG,KAAK,CAACuF,eAAN,KAA0BlG,SAAS,CAAC+B,MAApC,GAA6C,CAA7C,GAAiD,CAACY,oBAArE,CAFL;AAGTd,MAAAA,QAAQ,EAAElB,KAAK,CAACuF,eAAN,IAAyBlG,SAAS,CAAC+B,MAHpC;AAITV,MAAAA,mBAAmB,EAAE;AAJZ,KAAb;AAMA,UAAK2F,YAAL,GAAoBC,0BAAaC,MAAb,CAAoB;AACpCC,MAAAA,2BAA2B,EAAE,MAAK5F,+BADE;AAEpC6F,MAAAA,kBAAkB,EAAE,MAAKnF,sBAFW;AAGpCoF,MAAAA,qBAAqB,EAAE,MAAKtE,qBAHQ;AAIpCuE,MAAAA,uBAAuB,EAAE,MAAKvE;AAJM,KAApB,CAApB;AAjCe;AAuClB;;;;WACD,6BAAoB;AAChB,UAAIwE,8BAAJ,EAAuB;AACnB,YAAIA,+BAAkBC,qBAAtB,EAA6C;AACzCD,yCAAkBC,qBAAlB,GAA0CC,IAA1C,CAA+C,KAAKrG,wBAApD;AACH,SAFD,MAGK,IAAImG,+BAAkBG,KAAtB,EAA6B;AAE9BH,yCAAkBG,KAAlB,GAA0BD,IAA1B,CAA+B,KAAKrG,wBAApC;AACH;AACJ;AACJ;;;WACD,4BAAmBuG,SAAnB,EAA8B;AAC1B,UAAQxD,IAAR,GAAiB,KAAKxD,KAAL,CAAW+C,OAA5B,CAAQS,IAAR;;AACA,UAAIA,IAAI,KAAKwD,SAAS,CAACjE,OAAV,CAAkBS,IAA/B,EAAqC;AAEjC,aAAKyD,YAAL,CAAkBzD,IAAlB;AACH;AACJ;;;WAID,8BAAqB;AAAA;;AACjB,4BAAKlD,OAAL,4DAAc4G,OAAd,2CAAuBC,cAAvB,CAAsC,KAAK5F,cAA3C;;AACA,UAAI,CAAC,KAAKvB,KAAL,CAAWgB,UAAhB,EAA4B;AAAA;;AACxB,6BAAKb,MAAL,0DAAa+G,OAAb,0CAAsBC,cAAtB,CAAqC,KAAKtF,aAA1C;AACH,OAFD,MAGK;AAAA;;AACD,mCAAKrB,YAAL,iEAAmB0G,OAAnB,2CAA4BC,cAA5B,CAA2C,KAAKlF,mBAAhD;AACH;AACJ;;;WAED,sBAAauB,IAAb,EAAmB;AACf,UAAI,CAAC,KAAKxD,KAAL,CAAWgB,UAAhB,EAA4B;AAAA;;AACxB,+BAAKT,QAAL,6DAAe2G,OAAf,2CAAwBE,WAAxB,CAAoC,IAAI/B,cAAJ,CAAU7B,IAAV,CAApC,EAAqD,CAArD,EAAwD,IAAxD;AACH,OAFD,MAGK,IAAI,KAAKgC,OAAL,CAAahC,IAAb,MAAuB,KAAKD,WAA5B,IAA2C,KAAKG,QAAL,CAAcF,IAAd,MAAwB,KAAKH,YAA5E,EAA0F;AAAA;;AAE3F,gCAAK9C,QAAL,8DAAe2G,OAAf,2CAAwBG,aAAxB,CAAsC,IAAIhC,cAAJ,CAAU7B,IAAV,CAAtC;AACH;AACJ;;;WACD,oBAAWG,IAAX,EAAiB;AACb,UAAI,KAAK3D,KAAL,CAAWgB,UAAf,EAA2B;AACvB,YAAMsG,CAAC,GAAG,0BAAU,KAAKtH,KAAL,CAAW+C,OAAX,CAAmBS,IAA7B,CAAV;;AACA,YAAI,KAAKvC,KAAL,CAAWC,QAAX,KAAwB7B,SAAS,CAAC8B,IAAtC,EAA4C;AACxCmG,UAAAA,CAAC,CAACC,OAAF,CAAU,CAAV;AACAD,UAAAA,CAAC,CAACE,SAAF,CAAY7D,IAAI,GAAG,CAAH,GAAO,CAAC,CAAxB;AACH,SAHD,MAIK;AACD,qCAAyB,KAAK3D,KAA9B,CAAQyH,QAAR;AAAA,cAAQA,QAAR,qCAAmB,CAAnB;AACA,cAAIC,YAAY,GAAGJ,CAAC,CAACK,MAAF,EAAnB;;AACA,cAAID,YAAY,GAAGD,QAAf,IAA2BA,QAAQ,GAAG,CAA1C,EAA6C;AACzCC,YAAAA,YAAY,GAAG,IAAIA,YAAnB;AACH;;AACD,cAAME,cAAc,GAAG,CAACjE,IAAI,GAAG,CAAH,GAAO,CAAC,CAAb,IAAkB+D,YAAlB,GAAiCD,QAAxD;AACAH,UAAAA,CAAC,CAACO,OAAF,CAAUD,cAAV;AACH;;AACD,6BAAO,KAAK5H,KAAL,CAAW+C,OAAlB,EAA2B,SAA3B,EAAsC,gCAAgBuE,CAAhB,CAAtC,EAA0DnI,aAAa,CAAC2I,WAAxE;AACH;AACJ;;;WAED,yBAAgB;AACZ,UAAI,CAAC,KAAK9H,KAAL,CAAWgB,UAAhB,EAA4B;AACxB,eAAOS,IAAI,CAACC,GAAL,CAASzC,OAAO,CAAC8I,YAAjB,EAA+B9I,OAAO,CAAC+I,WAAvC,CAAP;AACH;;AACD,aAAOxI,aAAa,GAAGC,WAAW,IAAI,KAAKoE,aAAL,GAAqB,CAAzB,CAA3B,IAA0D,KAAK7D,KAAL,CAAWoF,QAAX,GAAsB,EAAtB,GAA2B1F,qBAArF,CAAP;AACH;;;WACD,iBAAQ8D,IAAR,EAAc;AACV,UAAM8D,CAAC,GAAG,IAAIjC,cAAJ,CAAU7B,IAAV,CAAV;AACA,aAAO8D,CAAC,CAACW,WAAF,EAAP;AACH;;;WACD,kBAASzE,IAAT,EAAe;AACX,UAAM8D,CAAC,GAAG,IAAIjC,cAAJ,CAAU7B,IAAV,CAAV;AAEA,aAAO8D,CAAC,CAAC5D,QAAF,KAAe,CAAtB;AACH;;;WACD,iCAAwBN,KAAxB,EAA+B;AAC3B,UAAM8E,IAAI,GAAG,qBAAK9E,KAAL,EAAY,KAAKpD,KAAL,CAAWyH,QAAvB,CAAb;AACA,aAAOS,IAAI,CAACC,MAAL,GAAc,CAArB;AACH;;;WACD,4BAAmB;AACf,UAAI,CAAC,KAAKnI,KAAL,CAAWgB,UAAhB,EAA4B;AACxB,eAAO,IAAP;AACH;;AACD,aAAO,KAAKhB,KAAL,CAAWoI,UAAX,IAAyB,KAAhC;AACH;;;WACD,qBAAYC,KAAZ,EAAmBC,KAAnB,EAA0B;AACtB,UAAID,KAAK,IAAIC,KAAb,EAAoB;AAChB,YAAID,KAAK,CAAC/E,IAAN,GAAa,KAAKkC,OAAL,CAAa8C,KAAb,CAAjB,EAAsC;AAClC,iBAAO,IAAP;AACH;;AACD,YAAID,KAAK,CAAC/E,IAAN,KAAe,KAAKkC,OAAL,CAAa8C,KAAb,CAAnB,EAAwC;AACpC,cAAID,KAAK,CAACjF,KAAN,GAAc,KAAKM,QAAL,CAAc4E,KAAd,CAAlB,EAAwC;AACpC,mBAAO,IAAP;AACH;AACJ;AACJ;;AACD,aAAO,KAAP;AACH;;;WAoCD,4BAA8B;AAAA,UAAbC,OAAa,uEAAH,CAAG;;AAC1B,UAAI,CAAC,KAAKvI,KAAL,CAAWe,UAAhB,EAA4B;AACxB,0BAA6B,KAAKE,KAAlC;AAAA,YAAQgF,MAAR,eAAQA,MAAR;AAAA,YAAgB/E,QAAhB,eAAgBA,QAAhB;AACA,2BAA0F,KAAKlB,KAA/F;AAAA,iDAAQwI,aAAR;AAAA,YAAQA,aAAR,sCAAwB5I,qBAAxB;AAAA,iDAA+C6I,cAA/C;AAAA,YAA+CA,cAA/C,sCAAgE7I,qBAAhE;AACA,YAAM8I,SAAS,GAAGxH,QAAQ,KAAK7B,SAAS,CAAC8B,IAAvB,GAA8B,KAAK4C,UAAL,GAAkB0E,cAAhD,GAAiE,KAAK9G,YAAL,GAAoB6G,aAAvG;AACA,YAAIG,MAAM,GAAG,KAAK/G,OAAL,IAAgB8G,SAA7B;AACA,YAAME,QAAQ,GAAGD,MAAM,GAAG,KAAK5E,UAAR,GAAqB,KAAKpC,YAAjD;AACAsE,QAAAA,MAAM,CAAC4C,QAAP,CAAgB,KAAKjH,OAArB;AACA,aAAKA,OAAL,GAAe2G,OAAO,IAAIK,QAA1B;AACAD,QAAAA,MAAM,GAAG,KAAK/G,OAAL,IAAgB8G,SAAzB;;AACAxC,8BAAS4C,MAAT,CAAgB7C,MAAhB,EAAwB;AACpBsC,UAAAA,OAAO,EAAE,KAAK3G,OADM;AAEpBmH,UAAAA,KAAK,EAAEzJ,KAFa;AAGpB0J,UAAAA,UAAU,EAAEzJ,UAHQ;AAIpB0J,UAAAA,eAAe,EAAE;AAJG,SAAxB,EAKGC,KALH,CAKS,KAAK3G,kBALd;;AAMA,6BAAO,KAAKvC,KAAZ,EAAmB,mBAAnB,EAAwC2I,MAAxC;AACA,aAAKQ,WAAL;AACA,aAAKC,WAAL,CAAiBT,MAAjB;AACA,aAAKU,wBAAL,CAA8BV,MAA9B;AACH;AACJ;;;WAMD,uBAAc;AACV,UAAMW,QAAQ,GAAG,KAAK1H,OAAL,KAAiB,KAAKD,YAAvC;AACA,WAAKhB,QAAL,CAAc;AAAEO,QAAAA,QAAQ,EAAEoI,QAAQ,GAAGjK,SAAS,CAAC+B,MAAb,GAAsB/B,SAAS,CAAC8B;AAApD,OAAd;AACH;;;WACD,kCAAyBwH,MAAzB,EAAiC;AAC7B,WAAK1G,mBAAL,CAAyBhC,KAAzB,CAA+BiC,OAA/B,GAAyCyG,MAAM,GAAG,CAAH,GAAO,CAAtD;AACA,WAAKxG,kBAAL;AACH;;;WACD,qBAAYwG,MAAZ,EAAoB;AAChB,UAAQvC,YAAR,GAAyB,KAAKnF,KAA9B,CAAQmF,YAAR;AACAA,MAAAA,YAAY,CAACyC,QAAb,CAAsBxG,MAAM,CAAC,KAAKR,aAAL,CAAmB5B,KAAnB,CAAyB6B,GAA1B,CAA5B;;AACA,UAAI,CAAC,KAAK9B,KAAL,CAAWgB,UAAZ,IAA0B,CAAC2H,MAA/B,EAAuC;AACnCzC,8BAAS4C,MAAT,CAAgB1C,YAAhB,EAA8B;AAC1BmC,UAAAA,OAAO,EAAE,CADiB;AAE1BQ,UAAAA,KAAK,EAAEzJ,KAAK,GAAG,EAFW;AAG1B0J,UAAAA,UAAU,EAAE,CAHc;AAI1BC,UAAAA,eAAe,EAAE;AAJS,SAA9B,EAKGC,KALH;AAMH;AACJ;;;WAoED,wBAAe;AACX,UAAMK,SAAS,GAAG,IAAIlE,cAAJ,CAAU,KAAKrF,KAAL,CAAW+C,OAAX,CAAmBS,IAA7B,EAAmCgG,QAAnC,CAA4C,WAA5C,CAAlB;AACA,UAAM/E,aAAa,GAAG,6BAAa,KAAKzE,KAAL,CAAWyH,QAAxB,CAAtB;AACA,aAAQ,6BAAC,qBAAD,CAAU,IAAV;AAAe,QAAA,GAAG,EAAE,KAAKtH,MAAzB;AAAiC,QAAA,KAAK,EAAE,CAAC,KAAKF,KAAL,CAAWE,MAAZ,EAAoB;AAAEqB,UAAAA,MAAM,EAAEQ,oBAAV;AAAyBF,UAAAA,GAAG,EAAE,KAAKb,KAAL,CAAWmF;AAAzC,SAApB,CAAxC;AAAsH,QAAA,aAAa,EAAE,MAArI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACR,6BAAC,iBAAD;AAAM,QAAA,gBAAgB,EAAE,KAAxB;AAA+B,QAAA,KAAK,EAAE,KAAKnG,KAAL,CAAWwJ,WAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGF,SADH,CADQ,EAIP,KAAK/E,mBAAL,CAAyBC,aAAzB,EAAwC,KAAKzE,KAAL,CAAWoE,aAAnD,CAJO,CAAR;AAMH;;;WACD,8BAAqB;AACjB,UAAQlD,QAAR,GAAqB,KAAKD,KAA1B,CAAQC,QAAR;AACA,UAAQwI,iBAAR,GAA8B,KAAK1J,KAAnC,CAAQ0J,iBAAR;AACA,UAAMC,aAAa,GAAGD,iBAAiB,GAAGE,aAAH,GAAUC,qBAAjD;AACA,UAAMC,iBAAiB,GAAGJ,iBAAiB,GAAGK,SAAH,GAAe;AAAEC,QAAAA,WAAW,EAAE;AAAf,OAA1D;AACA,aAAQ,6BAAC,qBAAD,CAAU,IAAV;AAAe,QAAA,GAAG,EAAE,KAAKxJ,YAAzB;AAAuC,QAAA,KAAK,EAAE,CAAC,KAAKP,KAAL,CAAWgK,aAAZ,EAA2B/I,QAAQ,KAAK7B,SAAS,CAAC8B,IAAvB,GAA8B,KAAKlB,KAAL,CAAWiK,MAAzC,GAAkD,KAAKjK,KAAL,CAAWkK,OAAxF,CAA9C;AAAgJ,QAAA,aAAa,EAAEjJ,QAAQ,KAAK7B,SAAS,CAAC+B,MAAvB,GAAgC,MAAhC,GAAyC,MAAxM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACR,6BAAC,aAAD,6BAAmB,KAAKpB,KAAxB,EAAmC8J,iBAAnC;AAAsD,QAAA,OAAO,EAAE,KAAK9J,KAAL,CAAW+C,OAAX,CAAmBS,IAAlF;AAAwF,QAAA,UAAU,EAAE,KAAKX,UAAzG;AAAqH,QAAA,KAAK,EAAE,KAAK7C,KAAL,CAAWoE,aAAvI;AAAsJ,QAAA,YAAY,EAAE,IAApK;AAA0K,QAAA,2BAA2B,MAArM;AACC,QAAA,yBAAyB,EAAE,qBAD5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADQ,CAAR;AAKH;;;WACD,sBAAa;AAET,aAAQ,6BAAC,iBAAD;AAAM,QAAA,KAAK,EAAE,KAAKnE,KAAL,CAAWmK,aAAxB;AAAuC,QAAA,aAAa,EAAE,MAAtD;AAA8D,QAAA,MAAM,EAAK,KAAKpK,KAAL,CAAWkF,MAAhB,UAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACR,6BAAC,iBAAD;AAAM,QAAA,KAAK,EAAE,KAAKjF,KAAL,CAAWoK,IAAxB;AAA8B,QAAA,MAAM,EAAEC,sBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADQ,CAAR;AAGH;;;WAQD,kBAAS;AACL,yBAAuE,KAAKtK,KAA5E;AAAA,UAAQC,KAAR,gBAAQA,KAAR;AAAA,UAAemF,QAAf,gBAAeA,QAAf;AAAA,UAAyBpE,UAAzB,gBAAyBA,UAAzB;AAAA,UAAqCgJ,WAArC,gBAAqCA,WAArC;AAAA,UAAkD9J,KAAlD,gBAAkDA,KAAlD;AAAA,UAA4DqK,MAA5D;AACA,yBAAkD,KAAKtJ,KAAvD;AAAA,UAAQgF,MAAR,gBAAQA,MAAR;AAAA,UAAgB/E,QAAhB,gBAAgBA,QAAhB;AAAA,UAA0BR,mBAA1B,gBAA0BA,mBAA1B;AACA,UAAMiI,MAAM,GAAGzH,QAAQ,KAAK7B,SAAS,CAAC8B,IAAtC;AACA,UAAMqJ,WAAW,GAAG,uBAAc,KAAK9E,mBAAnB,EAAwCxF,KAAxC,CAApB;AACA,aAAQ,6BAAC,iBAAD;AAAM,QAAA,MAAM,EAAE,KAAKF,KAAL,CAAWkF,MAAzB;AAAiC,QAAA,KAAK,EAAE,CAAC8E,WAAW,IAAI,KAAK/J,KAAL,CAAWwK,eAA3B,EAA4CxK,KAA5C,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACPS,mBAAmB,GAAI,6BAAC,iBAAD;AAAU,QAAA,MAAM,EAAC;AAAjB,SAAgC6J,MAAhC;AAAwC,QAAA,KAAK,EAAEC,WAA/C;AAA4D,QAAA,UAAU,EAAE,KAAK3H,UAA7E;AAAyF,QAAA,aAAa,MAAtG;AAAuG,QAAA,WAAW,EAAE,KAAKiC,WAAzH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAJ,GAAgJ,6BAAC,qBAAD,CAAU,IAAV;AAAe,QAAA,GAAG,EAAE,KAAKxE,OAAzB;AAAkC,QAAA,KAAK,EAAE;AAAEkB,UAAAA,MAAM,EAAEyE;AAAV;AAAzC,SAAiE,KAAKI,YAAL,CAAkBqE,WAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAChK,6BAAC,qBAAD;AAAc,QAAA,MAAM,EAAC,UAArB;AAAgC,QAAA,UAAU,EAAE1J;AAA5C,SAA4DuJ,MAA5D;AAAoE,QAAA,KAAK,EAAEC,WAA3E;AAAwF,QAAA,GAAG,EAAE,KAAKjK,QAAlG;AAA4G,QAAA,OAAO,EAAE,KAAKkF,WAA1H;AAAuI,QAAA,UAAU,EAAE,KAAK5C,UAAxJ;AAAoK,QAAA,qBAAqB,EAAE,KAAKM,qBAAhM;AAAuN,QAAA,aAAa,MAApO;AAAqO,QAAA,aAAa,EAAEwF,MAApP;AAA4P,QAAA,UAAU,EAAE,KAAKgC,gBAAL,EAAxQ;AAAiS,QAAA,gBAAgB,EAAE,KAAKjI,gBAAxT;AAA0U,QAAA,iBAAiB,EAAE,KAAKE,iBAAlW;AAAqX,QAAA,aAAa,EAAE,CAAC5B,UAArY;AAAiZ,QAAA,WAAW,EAAE,KAAK8D,WAAna;AAAgb,QAAA,YAAY,MAA5b;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADgK,EAE/J9D,UAAU,IAAI,KAAK4J,kBAAL,EAFiJ,EAG/J,CAACxF,QAAD,IAAa,KAAKyF,UAAL,EAHkJ,EAI/J,CAAC7J,UAAD,IAAe,KAAK8J,YAAL,EAJgJ,CAD5J,CAAR;AAQH;;;EAnY4BC,gB;;AAA3BhL,kB,CACKiL,W,GAAc,oB;AADnBjL,kB,CAEKkL,S,8BACAC,sBAAaD,S;AAEhB1F,EAAAA,eAAe,EAAE4F,mBAAUC,KAAV,CAAgB,qBAAO/L,SAAP,CAAhB,C;AAEjBgM,EAAAA,iBAAiB,EAAEF,mBAAUG,I;AAE7BvK,EAAAA,UAAU,EAAEoK,mBAAUI,I;AAEtBnG,EAAAA,QAAQ,EAAE+F,mBAAUI,I;AAEpBtG,EAAAA,oBAAoB,EAAEkG,mBAAUK,SAAV,CAAoB,CAACL,mBAAUM,MAAX,EAAmBN,mBAAUO,MAA7B,EAAqCP,mBAAUG,IAA/C,CAApB,C;AAEtBtG,EAAAA,qBAAqB,EAAEmG,mBAAUK,SAAV,CAAoB,CAACL,mBAAUM,MAAX,EAAmBN,mBAAUO,MAA7B,EAAqCP,mBAAUG,IAA/C,CAApB,C;AAEvBtB,EAAAA,WAAW,EAAEmB,mBAAUI,I;AAEvB7B,EAAAA,iBAAiB,EAAEyB,mBAAUI,I;AAE7B/C,EAAAA,aAAa,EAAE2C,mBAAUO,M;AAEzBjD,EAAAA,cAAc,EAAE0C,mBAAUO;;AAvB5B3L,kB,CAyBK4L,Y,GAAe;AAClB3K,EAAAA,UAAU,EAAE,IADM;AAElBuE,EAAAA,eAAe,EAAElG,SAAS,CAAC+B,MAFT;AAGlBqG,EAAAA,QAAQ,EAAE,CAHQ;AAIlBxC,EAAAA,oBAAoB,EAAEpF,UAJJ;AAKlBmF,EAAAA,qBAAqB,EAAElF,WALL;AAMlBkK,EAAAA,WAAW,EAAE,IANK;AAOlBxB,EAAAA,aAAa,EAAE5I,qBAPG;AAQlB6I,EAAAA,cAAc,EAAE7I;AARE,C;AAzBpBG,kB,CAmCK6L,S,GAAYvM,S;;eAkWR,iCAAmBU,kBAAnB,C","sourcesContent":["import first from 'lodash/first';\nimport invoke from 'lodash/invoke';\nimport values from 'lodash/values';\nimport isFunction from 'lodash/isFunction';\nimport throttle from 'lodash/throttle';\nimport PropTypes from 'prop-types';\nimport memoize from 'memoize-one';\nimport XDate from 'xdate';\nimport React, { Component } from 'react';\nimport { AccessibilityInfo, PanResponder, Animated, View, Text, Image } from 'react-native';\n// @ts-expect-error\nimport { CALENDAR_KNOB } from '../testIDs';\nimport { page, weekDayNames } from '../dateutils';\nimport { parseDate, toMarkingFormat } from '../interface';\nimport styleConstructor, { HEADER_HEIGHT } from './style';\nimport CalendarList from '../calendar-list';\nimport Calendar from '../calendar';\nimport asCalendarConsumer from './asCalendarConsumer';\nimport WeekCalendar from './WeekCalendar';\nimport Week from './week';\nconst commons = require('./commons');\nconst updateSources = commons.UpdateSources;\nvar Positions;\n(function (Positions) {\n    Positions[\"CLOSED\"] = \"closed\";\n    Positions[\"OPEN\"] = \"open\";\n})(Positions || (Positions = {}));\nconst SPEED = 20;\nconst BOUNCINESS = 6;\nconst CLOSED_HEIGHT = 120; // header + 1 week\nconst WEEK_HEIGHT = 46;\nconst KNOB_CONTAINER_HEIGHT = 20;\nconst DAY_NAMES_PADDING = 24;\nconst PAN_GESTURE_THRESHOLD = 30;\nconst LEFT_ARROW = require('../calendar/img/previous.png');\nconst RIGHT_ARROW = require('../calendar/img/next.png');\n/**\n * @description: Expandable calendar component\n * @note: Should be wrapped with 'CalendarProvider'\n * @extends: CalendarList\n * @extendslink: docs/CalendarList\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/expandableCalendar.js\n */\nclass ExpandableCalendar extends Component {\n    static displayName = 'ExpandableCalendar';\n    static propTypes = {\n        ...CalendarList.propTypes,\n        /** the initial position of the calendar ('open' or 'closed') */\n        initialPosition: PropTypes.oneOf(values(Positions)),\n        /** callback that fires when the calendar is opened or closed */\n        onCalendarToggled: PropTypes.func,\n        /** an option to disable the pan gesture and disable the opening and closing of the calendar (initialPosition will persist)*/\n        disablePan: PropTypes.bool,\n        /** whether to hide the knob  */\n        hideKnob: PropTypes.bool,\n        /** source for the left arrow image */\n        leftArrowImageSource: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.func]),\n        /** source for the right arrow image */\n        rightArrowImageSource: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.func]),\n        /** whether to have shadow/elevation for the calendar */\n        allowShadow: PropTypes.bool,\n        /** whether to disable the week scroll in closed position */\n        disableWeekScroll: PropTypes.bool,\n        /** a threshold for opening the calendar with the pan gesture */\n        openThreshold: PropTypes.number,\n        /** a threshold for closing the calendar with the pan gesture */\n        closeThreshold: PropTypes.number\n    };\n    static defaultProps = {\n        horizontal: true,\n        initialPosition: Positions.CLOSED,\n        firstDay: 0,\n        leftArrowImageSource: LEFT_ARROW,\n        rightArrowImageSource: RIGHT_ARROW,\n        allowShadow: true,\n        openThreshold: PAN_GESTURE_THRESHOLD,\n        closeThreshold: PAN_GESTURE_THRESHOLD\n    };\n    static positions = Positions;\n    style = styleConstructor(this.props.theme);\n    panResponder;\n    closedHeight;\n    numberOfWeeks;\n    openHeight;\n    _height;\n    _wrapperStyles;\n    _headerStyles;\n    _weekCalendarStyles;\n    visibleMonth;\n    visibleYear;\n    initialDate;\n    headerStyleOverride;\n    header = React.createRef();\n    wrapper = React.createRef();\n    calendar = React.createRef();\n    weekCalendar = React.createRef();\n    constructor(props) {\n        super(props);\n        this.closedHeight = CLOSED_HEIGHT + (props.hideKnob ? 0 : KNOB_CONTAINER_HEIGHT);\n        this.numberOfWeeks = this.getNumberOfWeeksInMonth(new XDate(this.props.context.date));\n        this.openHeight = this.getOpenHeight();\n        const startHeight = props.initialPosition === Positions.CLOSED ? this.closedHeight : this.openHeight;\n        this._height = startHeight;\n        this._wrapperStyles = { style: { height: startHeight } };\n        this._headerStyles = { style: { top: props.initialPosition === Positions.CLOSED ? 0 : -HEADER_HEIGHT } };\n        this._weekCalendarStyles = { style: {} };\n        this.visibleMonth = this.getMonth(this.props.context.date);\n        this.visibleYear = this.getYear(this.props.context.date);\n        this.initialDate = new XDate(props.context.date); // should be set only once!!!\n        this.headerStyleOverride = {\n            stylesheet: {\n                calendar: {\n                    header: {\n                        week: {\n                            marginTop: 7,\n                            marginBottom: -4,\n                            flexDirection: 'row',\n                            justifyContent: 'space-around'\n                        }\n                    }\n                }\n            }\n        };\n        this.state = {\n            deltaY: new Animated.Value(startHeight),\n            headerDeltaY: new Animated.Value(props.initialPosition === Positions.CLOSED ? 0 : -HEADER_HEIGHT),\n            position: props.initialPosition || Positions.CLOSED,\n            screenReaderEnabled: false\n        };\n        this.panResponder = PanResponder.create({\n            onMoveShouldSetPanResponder: this.handleMoveShouldSetPanResponder,\n            onPanResponderMove: this.handlePanResponderMove,\n            onPanResponderRelease: this.handlePanResponderEnd,\n            onPanResponderTerminate: this.handlePanResponderEnd\n        });\n    }\n    componentDidMount() {\n        if (AccessibilityInfo) {\n            if (AccessibilityInfo.isScreenReaderEnabled) {\n                AccessibilityInfo.isScreenReaderEnabled().then(this.handleScreenReaderStatus);\n            }\n            else if (AccessibilityInfo.fetch) {\n                // Support for older RN versions\n                AccessibilityInfo.fetch().then(this.handleScreenReaderStatus);\n            }\n        }\n    }\n    componentDidUpdate(prevProps) {\n        const { date } = this.props.context;\n        if (date !== prevProps.context.date) {\n            // date was changed from AgendaList, arrows or scroll\n            this.scrollToDate(date);\n        }\n    }\n    handleScreenReaderStatus = (screenReaderEnabled) => {\n        this.setState({ screenReaderEnabled });\n    };\n    updateNativeStyles() {\n        this.wrapper?.current?.setNativeProps(this._wrapperStyles);\n        if (!this.props.horizontal) {\n            this.header?.current?.setNativeProps(this._headerStyles);\n        }\n        else {\n            this.weekCalendar?.current?.setNativeProps(this._weekCalendarStyles);\n        }\n    }\n    /** Scroll */\n    scrollToDate(date) {\n        if (!this.props.horizontal) {\n            this.calendar?.current?.scrollToDay(new XDate(date), 0, true);\n        }\n        else if (this.getYear(date) !== this.visibleYear || this.getMonth(date) !== this.visibleMonth) {\n            // don't scroll if the month is already visible\n            this.calendar?.current?.scrollToMonth(new XDate(date));\n        }\n    }\n    scrollPage(next) {\n        if (this.props.horizontal) {\n            const d = parseDate(this.props.context.date);\n            if (this.state.position === Positions.OPEN) {\n                d.setDate(1);\n                d.addMonths(next ? 1 : -1);\n            }\n            else {\n                const { firstDay = 0 } = this.props;\n                let dayOfTheWeek = d.getDay();\n                if (dayOfTheWeek < firstDay && firstDay > 0) {\n                    dayOfTheWeek = 7 + dayOfTheWeek;\n                }\n                const firstDayOfWeek = (next ? 7 : -7) - dayOfTheWeek + firstDay;\n                d.addDays(firstDayOfWeek);\n            }\n            invoke(this.props.context, 'setDate', toMarkingFormat(d), updateSources.PAGE_SCROLL);\n        }\n    }\n    /** Utils */\n    getOpenHeight() {\n        if (!this.props.horizontal) {\n            return Math.max(commons.screenHeight, commons.screenWidth);\n        }\n        return CLOSED_HEIGHT + WEEK_HEIGHT * (this.numberOfWeeks - 1) + (this.props.hideKnob ? 12 : KNOB_CONTAINER_HEIGHT);\n    }\n    getYear(date) {\n        const d = new XDate(date);\n        return d.getFullYear();\n    }\n    getMonth(date) {\n        const d = new XDate(date);\n        // getMonth() returns the month of the year (0-11). Value is zero-index, meaning Jan=0, Feb=1, Mar=2, etc.\n        return d.getMonth() + 1;\n    }\n    getNumberOfWeeksInMonth(month) {\n        const days = page(month, this.props.firstDay);\n        return days.length / 7;\n    }\n    shouldHideArrows() {\n        if (!this.props.horizontal) {\n            return true;\n        }\n        return this.props.hideArrows || false;\n    }\n    isLaterDate(date1, date2) {\n        if (date1 && date2) {\n            if (date1.year > this.getYear(date2)) {\n                return true;\n            }\n            if (date1.year === this.getYear(date2)) {\n                if (date1.month > this.getMonth(date2)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    /** Pan Gesture */\n    handleMoveShouldSetPanResponder = (_, gestureState) => {\n        if (this.props.disablePan) {\n            return false;\n        }\n        if (!this.props.horizontal && this.state.position === Positions.OPEN) {\n            // disable pan detection when vertical calendar is open to allow calendar scroll\n            return false;\n        }\n        if (this.state.position === Positions.CLOSED && gestureState.dy < 0) {\n            // disable pan detection to limit to closed height\n            return false;\n        }\n        return gestureState.dy > 5 || gestureState.dy < -5;\n    };\n    handlePanResponderMove = (_, gestureState) => {\n        // limit min height to closed height\n        this._wrapperStyles.style.height = Math.max(this.closedHeight, this._height + gestureState.dy);\n        if (!this.props.horizontal) {\n            // vertical CalenderList header\n            this._headerStyles.style.top = Math.min(Math.max(-gestureState.dy, -HEADER_HEIGHT), 0);\n        }\n        else {\n            // horizontal Week view\n            if (this.state.position === Positions.CLOSED) {\n                this._weekCalendarStyles.style.opacity = Math.min(1, Math.max(1 - gestureState.dy / 100, 0));\n            }\n        }\n        this.updateNativeStyles();\n    };\n    handlePanResponderEnd = () => {\n        this._height = Number(this._wrapperStyles.style.height);\n        this.bounceToPosition();\n    };\n    /** Animated */\n    bounceToPosition(toValue = 0) {\n        if (!this.props.disablePan) {\n            const { deltaY, position } = this.state;\n            const { openThreshold = PAN_GESTURE_THRESHOLD, closeThreshold = PAN_GESTURE_THRESHOLD } = this.props;\n            const threshold = position === Positions.OPEN ? this.openHeight - closeThreshold : this.closedHeight + openThreshold;\n            let isOpen = this._height >= threshold;\n            const newValue = isOpen ? this.openHeight : this.closedHeight;\n            deltaY.setValue(this._height); // set the start position for the animated value\n            this._height = toValue || newValue;\n            isOpen = this._height >= threshold; // re-check after this._height was set\n            Animated.spring(deltaY, {\n                toValue: this._height,\n                speed: SPEED,\n                bounciness: BOUNCINESS,\n                useNativeDriver: false\n            }).start(this.onAnimatedFinished);\n            invoke(this.props, 'onCalendarToggled', isOpen);\n            this.setPosition();\n            this.closeHeader(isOpen);\n            this.resetWeekCalendarOpacity(isOpen);\n        }\n    }\n    onAnimatedFinished = (result) => {\n        if (result?.finished) {\n            // this.setPosition();\n        }\n    };\n    setPosition() {\n        const isClosed = this._height === this.closedHeight;\n        this.setState({ position: isClosed ? Positions.CLOSED : Positions.OPEN });\n    }\n    resetWeekCalendarOpacity(isOpen) {\n        this._weekCalendarStyles.style.opacity = isOpen ? 0 : 1;\n        this.updateNativeStyles();\n    }\n    closeHeader(isOpen) {\n        const { headerDeltaY } = this.state;\n        headerDeltaY.setValue(Number(this._headerStyles.style.top)); // set the start position for the animated value\n        if (!this.props.horizontal && !isOpen) {\n            Animated.spring(headerDeltaY, {\n                toValue: 0,\n                speed: SPEED / 10,\n                bounciness: 1,\n                useNativeDriver: false\n            }).start();\n        }\n    }\n    /** Events */\n    onPressArrowLeft = () => {\n        invoke(this.props, 'onPressArrowLeft');\n        this.scrollPage(false);\n    };\n    onPressArrowRight = () => {\n        invoke(this.props, 'onPressArrowRight');\n        this.scrollPage(true);\n    };\n    onDayPress = (value) => {\n        // {year: 2019, month: 4, day: 22, timestamp: 1555977600000, dateString: \"2019-04-23\"}\n        invoke(this.props.context, 'setDate', value.dateString, updateSources.DAY_PRESS);\n        setTimeout(() => {\n            // to allows setDate to be completed\n            if (this.state.position === Positions.OPEN) {\n                this.bounceToPosition(this.closedHeight);\n            }\n        }, 0);\n        if (this.props.onDayPress) {\n            this.props.onDayPress(value);\n        }\n    };\n    onVisibleMonthsChange = throttle((value) => {\n        const month = first(value)?.month; // equivalent to this.getMonth(value[0].dateString)\n        if (month && this.visibleMonth !== month) {\n            this.visibleMonth = month;\n            if (first(value)?.year) {\n                // @ts-expect-error\n                this.visibleYear = first(value)?.year;\n            }\n            // for horizontal scroll\n            const { date, updateSource } = this.props.context;\n            if (this.visibleMonth !== this.getMonth(date) && updateSource !== updateSources.DAY_PRESS) {\n                const next = this.isLaterDate(first(value), date);\n                this.scrollPage(next);\n            }\n            // updating openHeight\n            setTimeout(() => {\n                // to wait for setDate() call in horizontal scroll (this.scrollPage())\n                const numberOfWeeks = this.getNumberOfWeeksInMonth(parseDate(this.props.context.date));\n                if (numberOfWeeks !== this.numberOfWeeks) {\n                    this.numberOfWeeks = numberOfWeeks;\n                    this.openHeight = this.getOpenHeight();\n                    if (this.state.position === Positions.OPEN) {\n                        this.bounceToPosition(this.openHeight);\n                    }\n                }\n            }, 0);\n        }\n    }, 100, { trailing: true, leading: false });\n    /** Renders */\n    getWeekDaysStyle = memoize(calendarStyle => {\n        return [\n            this.style.weekDayNames,\n            {\n                paddingLeft: calendarStyle?.paddingLeft + 6 || DAY_NAMES_PADDING,\n                paddingRight: calendarStyle?.paddingRight + 6 || DAY_NAMES_PADDING\n            }\n        ];\n    });\n    renderWeekDaysNames = memoize((weekDaysNames, calendarStyle) => {\n        return (<View style={this.getWeekDaysStyle(calendarStyle)}>\n        {weekDaysNames.map((day, index) => (<Text allowFontScaling={false} key={day + index} style={this.style.weekday} numberOfLines={1}>\n            {day}\n          </Text>))}\n      </View>);\n    });\n    renderHeader() {\n        const monthYear = new XDate(this.props.context.date).toString('MMMM yyyy');\n        const weekDaysNames = weekDayNames(this.props.firstDay);\n        return (<Animated.View ref={this.header} style={[this.style.header, { height: HEADER_HEIGHT, top: this.state.headerDeltaY }]} pointerEvents={'none'}>\n        <Text allowFontScaling={false} style={this.style.headerTitle}>\n          {monthYear}\n        </Text>\n        {this.renderWeekDaysNames(weekDaysNames, this.props.calendarStyle)}\n      </Animated.View>);\n    }\n    renderWeekCalendar() {\n        const { position } = this.state;\n        const { disableWeekScroll } = this.props;\n        const WeekComponent = disableWeekScroll ? Week : WeekCalendar;\n        const weekCalendarProps = disableWeekScroll ? undefined : { allowShadow: false };\n        return (<Animated.View ref={this.weekCalendar} style={[this.style.weekContainer, position === Positions.OPEN ? this.style.hidden : this.style.visible]} pointerEvents={position === Positions.CLOSED ? 'auto' : 'none'}>\n        <WeekComponent {...this.props} {...weekCalendarProps} current={this.props.context.date} onDayPress={this.onDayPress} style={this.props.calendarStyle} hideDayNames={true} accessibilityElementsHidden // iOS\n         importantForAccessibility={'no-hide-descendants'} // Android\n        />\n      </Animated.View>);\n    }\n    renderKnob() {\n        // TODO: turn to TouchableOpacity with onPress that closes it\n        return (<View style={this.style.knobContainer} pointerEvents={'none'} testID={`${this.props.testID}-knob`}>\n        <View style={this.style.knob} testID={CALENDAR_KNOB}/>\n      </View>);\n    }\n    renderArrow = (direction) => {\n        const { renderArrow, rightArrowImageSource = RIGHT_ARROW, leftArrowImageSource = LEFT_ARROW, testID } = this.props;\n        if (isFunction(renderArrow)) {\n            return renderArrow(direction);\n        }\n        return (<Image source={direction === 'right' ? rightArrowImageSource : leftArrowImageSource} style={this.style.arrowImage} testID={`${testID}-${direction}-arrow`}/>);\n    };\n    render() {\n        const { style, hideKnob, horizontal, allowShadow, theme, ...others } = this.props;\n        const { deltaY, position, screenReaderEnabled } = this.state;\n        const isOpen = position === Positions.OPEN;\n        const themeObject = Object.assign(this.headerStyleOverride, theme);\n        return (<View testID={this.props.testID} style={[allowShadow && this.style.containerShadow, style]}>\n        {screenReaderEnabled ? (<Calendar testID=\"calendar\" {...others} theme={themeObject} onDayPress={this.onDayPress} hideExtraDays renderArrow={this.renderArrow}/>) : (<Animated.View ref={this.wrapper} style={{ height: deltaY }} {...this.panResponder.panHandlers}>\n            <CalendarList testID=\"calendar\" horizontal={horizontal} {...others} theme={themeObject} ref={this.calendar} current={this.initialDate} onDayPress={this.onDayPress} onVisibleMonthsChange={this.onVisibleMonthsChange} pagingEnabled scrollEnabled={isOpen} hideArrows={this.shouldHideArrows()} onPressArrowLeft={this.onPressArrowLeft} onPressArrowRight={this.onPressArrowRight} hideExtraDays={!horizontal} renderArrow={this.renderArrow} staticHeader/>\n            {horizontal && this.renderWeekCalendar()}\n            {!hideKnob && this.renderKnob()}\n            {!horizontal && this.renderHeader()}\n          </Animated.View>)}\n      </View>);\n    }\n}\nexport default asCalendarConsumer(ExpandableCalendar);\n"]},"metadata":{},"sourceType":"script"}