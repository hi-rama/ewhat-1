{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _memoizeOne = _interopRequireDefault(require(\"memoize-one\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _xdate = _interopRequireDefault(require(\"xdate\"));\n\nvar _immutable = require(\"immutable\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _componentUpdater = require(\"../../componentUpdater\");\n\nvar _dateutils = require(\"../../dateutils\");\n\nvar _interface = require(\"../../interface\");\n\nvar _style = _interopRequireDefault(require(\"../style\"));\n\nvar _asCalendarConsumer = _interopRequireDefault(require(\"../asCalendarConsumer\"));\n\nvar _calendarList = _interopRequireDefault(require(\"../../calendar-list\"));\n\nvar _week = _interopRequireDefault(require(\"../week\"));\n\nvar _presenter = _interopRequireDefault(require(\"./presenter\"));\n\nvar _jsxFileName = \"D:\\\\merge\\\\please-attendence\\\\node_modules\\\\react-native-calendars\\\\src\\\\expandableCalendar\\\\WeekCalendar\\\\index.js\";\nvar _excluded = [\"style\", \"onDayPress\", \"markedDates\", \"firstDay\"];\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar commons = require('../commons');\n\nvar NUMBER_OF_PAGES = 2;\nvar applyAndroidRtlFix = commons.isAndroid && commons.isRTL;\n\nvar WeekCalendar = function (_Component) {\n  (0, _inherits2.default)(WeekCalendar, _Component);\n\n  var _super = _createSuper(WeekCalendar);\n\n  function WeekCalendar() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, WeekCalendar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.style = (0, _style.default)(_this.props.theme);\n    _this.presenter = new _presenter.default();\n    _this.page = NUMBER_OF_PAGES;\n    _this.firstAndroidRTLScrollIgnored = !applyAndroidRtlFix;\n    _this.state = {\n      items: _this.presenter.getDatesArray(_this.props)\n    };\n    _this.getWeekStyle = (0, _memoizeOne.default)(function (width, style) {\n      return [{\n        width: width\n      }, style];\n    });\n\n    _this.onDayPress = function (value) {\n      _this.presenter.onDayPress(_this.props.context, value);\n    };\n\n    _this.onScroll = function (event) {\n      var x = event.nativeEvent.contentOffset.x;\n      var onScroll = _this.presenter.onScroll;\n      var context = _this.props.context;\n      var items = _this.state.items;\n\n      var _assertThisInitialize = (0, _assertThisInitialized2.default)(_this),\n          containerWidth = _assertThisInitialize.containerWidth,\n          page = _assertThisInitialize.page;\n\n      var updateState = function updateState(newData, newPage) {\n        _this.page = newPage;\n\n        _this.setState({\n          items: (0, _toConsumableArray2.default)(newData)\n        });\n      };\n\n      onScroll({\n        context: context,\n        updateState: updateState,\n        x: x,\n        page: page,\n        items: items,\n        width: containerWidth\n      });\n    };\n\n    _this.onMomentumScrollEnd = function () {\n      var items = _this.state.items;\n      var onMomentumScrollEnd = _this.presenter.onMomentumScrollEnd;\n\n      var updateItems = function updateItems(items) {\n        setTimeout(function () {\n          _this.setState({\n            items: (0, _toConsumableArray2.default)(items)\n          });\n        }, 100);\n      };\n\n      onMomentumScrollEnd({\n        items: items,\n        props: _this.props,\n        page: _this.page,\n        updateItems: updateItems\n      });\n    };\n\n    _this.renderItem = function (_ref) {\n      var item = _ref.item;\n\n      var _extractComponentProp = (0, _componentUpdater.extractComponentProps)(_week.default, _this.props),\n          style = _extractComponentProp.style,\n          onDayPress = _extractComponentProp.onDayPress,\n          markedDates = _extractComponentProp.markedDates,\n          firstDay = _extractComponentProp.firstDay,\n          others = (0, _objectWithoutProperties2.default)(_extractComponentProp, _excluded);\n\n      var context = _this.props.context;\n\n      var isSameWeek = _this.presenter.isSameWeek(item, context.date, firstDay);\n\n      var currentContext = isSameWeek ? context : undefined;\n      return _react.default.createElement(_week.default, (0, _extends2.default)({}, others, {\n        key: item,\n        current: item,\n        firstDay: firstDay,\n        style: _this.getWeekStyle(_this.containerWidth, style),\n        markedDates: markedDates,\n        onDayPress: onDayPress || _this.onDayPress,\n        context: currentContext,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }\n      }));\n    };\n\n    _this.getItemLayout = function (_, index) {\n      return {\n        length: _this.containerWidth,\n        offset: _this.containerWidth * index,\n        index: index\n      };\n    };\n\n    _this.keyExtractor = function (_, index) {\n      return index.toString();\n    };\n\n    _this.renderWeekDaysNames = (0, _memoizeOne.default)(function (weekDaysNames) {\n      return weekDaysNames.map(function (day, index) {\n        return _react.default.createElement(_reactNative.Text, {\n          allowFontScaling: false,\n          key: index,\n          style: _this.style.dayHeader,\n          numberOfLines: 1,\n          accessibilityLabel: '',\n          __self: (0, _assertThisInitialized2.default)(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 51\n          }\n        }, day);\n      });\n    });\n    return _this;\n  }\n\n  (0, _createClass2.default)(WeekCalendar, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var context = this.props.context;\n      var _this$presenter = this.presenter,\n          shouldComponentUpdate = _this$presenter.shouldComponentUpdate,\n          getDatesArray = _this$presenter.getDatesArray,\n          scrollToIndex = _this$presenter.scrollToIndex;\n\n      if (shouldComponentUpdate(context, prevProps.context)) {\n        this.setState({\n          items: getDatesArray(this.props)\n        });\n        scrollToIndex(false);\n      }\n    }\n  }, {\n    key: \"containerWidth\",\n    get: function get() {\n      return this.props.calendarWidth || commons.screenWidth;\n    }\n  }, {\n    key: \"getDatesArray\",\n    value: function getDatesArray() {\n      var array = [];\n\n      for (var index = -NUMBER_OF_PAGES; index <= NUMBER_OF_PAGES; index++) {\n        var d = this.getDate(index);\n        array.push(d);\n      }\n\n      return array;\n    }\n  }, {\n    key: \"getDate\",\n    value: function getDate(weekIndex) {\n      var _this$props = this.props,\n          current = _this$props.current,\n          context = _this$props.context,\n          _this$props$firstDay = _this$props.firstDay,\n          firstDay = _this$props$firstDay === void 0 ? 0 : _this$props$firstDay;\n      var d = new _xdate.default(current || context.date);\n      var dayOfTheWeek = d.getDay();\n\n      if (dayOfTheWeek < firstDay && firstDay > 0) {\n        dayOfTheWeek = 7 + dayOfTheWeek;\n      }\n\n      var dd = weekIndex === 0 ? d : d.addDays(firstDay - dayOfTheWeek);\n      var newDate = dd.addWeeks(weekIndex);\n      return (0, _interface.toMarkingFormat)(newDate);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          allowShadow = _this$props2.allowShadow,\n          firstDay = _this$props2.firstDay,\n          hideDayNames = _this$props2.hideDayNames,\n          current = _this$props2.current,\n          context = _this$props2.context;\n      var items = this.state.items;\n      var weekDaysNames = (0, _dateutils.weekDayNames)(firstDay);\n      var extraData = (0, _immutable.Map)({\n        current: current,\n        date: context.date,\n        firstDay: firstDay\n      });\n      return _react.default.createElement(_reactNative.View, {\n        testID: this.props.testID,\n        style: [allowShadow && this.style.containerShadow, !hideDayNames && this.style.containerWrapper],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }\n      }, !hideDayNames && _react.default.createElement(_reactNative.View, {\n        style: [this.style.week, this.style.weekCalendar],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 28\n        }\n      }, this.renderWeekDaysNames(weekDaysNames)), _react.default.createElement(_reactNative.FlatList, {\n        ref: this.presenter.list,\n        data: items,\n        extraData: extraData,\n        style: this.style.container,\n        horizontal: true,\n        showsHorizontalScrollIndicator: false,\n        pagingEnabled: true,\n        scrollEnabled: true,\n        renderItem: this.renderItem,\n        keyExtractor: this.keyExtractor,\n        initialScrollIndex: NUMBER_OF_PAGES,\n        getItemLayout: this.getItemLayout,\n        onScroll: this.onScroll,\n        onMomentumScrollEnd: this.onMomentumScrollEnd,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n  return WeekCalendar;\n}(_react.Component);\n\nWeekCalendar.displayName = 'WeekCalendar';\nWeekCalendar.propTypes = (0, _extends2.default)({}, _calendarList.default.propTypes, {\n  current: _propTypes.default.any,\n  allowShadow: _propTypes.default.bool,\n  hideDayNames: _propTypes.default.bool\n});\nWeekCalendar.defaultProps = {\n  firstDay: 0,\n  allowShadow: true\n};\n\nvar _default = (0, _asCalendarConsumer.default)(WeekCalendar);\n\nexports.default = _default;","map":{"version":3,"sources":["D:/merge/please-attendence/node_modules/react-native-calendars/src/expandableCalendar/WeekCalendar/index.js"],"names":["commons","require","NUMBER_OF_PAGES","applyAndroidRtlFix","isAndroid","isRTL","WeekCalendar","style","props","theme","presenter","Presenter","page","firstAndroidRTLScrollIgnored","state","items","getDatesArray","getWeekStyle","width","onDayPress","value","context","onScroll","event","x","nativeEvent","contentOffset","containerWidth","updateState","newData","newPage","setState","onMomentumScrollEnd","updateItems","setTimeout","renderItem","item","Week","markedDates","firstDay","others","isSameWeek","date","currentContext","undefined","getItemLayout","_","index","length","offset","keyExtractor","toString","renderWeekDaysNames","weekDaysNames","map","day","dayHeader","prevProps","shouldComponentUpdate","scrollToIndex","calendarWidth","screenWidth","array","d","getDate","push","weekIndex","current","XDate","dayOfTheWeek","getDay","dd","addDays","newDate","addWeeks","allowShadow","hideDayNames","extraData","testID","containerShadow","containerWrapper","week","weekCalendar","list","container","Component","displayName","propTypes","CalendarList","PropTypes","any","bool","defaultProps"],"mappings":"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","sourcesContent":["import memoize from 'memoize-one';\nimport PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport { Map } from 'immutable';\nimport React, { Component } from 'react';\nimport { FlatList, View, Text } from 'react-native';\nimport { extractComponentProps } from '../../componentUpdater';\nimport { weekDayNames } from '../../dateutils';\nimport { toMarkingFormat } from '../../interface';\nimport styleConstructor from '../style';\nimport asCalendarConsumer from '../asCalendarConsumer';\nimport CalendarList from '../../calendar-list';\nimport Week from '../week';\nimport Presenter from './presenter';\nconst commons = require('../commons');\nconst NUMBER_OF_PAGES = 2; // must be a positive number\nconst applyAndroidRtlFix = commons.isAndroid && commons.isRTL;\n/**\n * @description: Week calendar component\n * @note: Should be wrapped with 'CalendarProvider'\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/expandableCalendar.js\n */\nclass WeekCalendar extends Component {\n    static displayName = 'WeekCalendar';\n    static propTypes = {\n        ...CalendarList.propTypes,\n        /** the current date */\n        current: PropTypes.any,\n        /** whether to have shadow/elevation for the calendar */\n        allowShadow: PropTypes.bool,\n        /** whether to hide the names of the week days */\n        hideDayNames: PropTypes.bool\n    };\n    static defaultProps = {\n        firstDay: 0,\n        allowShadow: true\n    };\n    style = styleConstructor(this.props.theme);\n    presenter = new Presenter();\n    page = NUMBER_OF_PAGES;\n    // On Android+RTL there's an initial scroll that cause issues\n    firstAndroidRTLScrollIgnored = !applyAndroidRtlFix;\n    state = {\n        items: this.presenter.getDatesArray(this.props)\n    };\n    componentDidUpdate(prevProps) {\n        const { context } = this.props;\n        const { shouldComponentUpdate, getDatesArray, scrollToIndex } = this.presenter;\n        if (shouldComponentUpdate(context, prevProps.context)) {\n            this.setState({ items: getDatesArray(this.props) });\n            scrollToIndex(false);\n        }\n    }\n    get containerWidth() {\n        return this.props.calendarWidth || commons.screenWidth;\n    }\n    getDatesArray() {\n        const array = [];\n        for (let index = -NUMBER_OF_PAGES; index <= NUMBER_OF_PAGES; index++) {\n            const d = this.getDate(index);\n            array.push(d);\n        }\n        return array;\n    }\n    getDate(weekIndex) {\n        const { current, context, firstDay = 0 } = this.props;\n        const d = new XDate(current || context.date);\n        // get the first day of the week as date (for the on scroll mark)\n        let dayOfTheWeek = d.getDay();\n        if (dayOfTheWeek < firstDay && firstDay > 0) {\n            dayOfTheWeek = 7 + dayOfTheWeek;\n        }\n        // leave the current date in the visible week as is\n        const dd = weekIndex === 0 ? d : d.addDays(firstDay - dayOfTheWeek);\n        const newDate = dd.addWeeks(weekIndex);\n        return toMarkingFormat(newDate);\n    }\n    getWeekStyle = memoize((width, style) => {\n        return [{ width }, style];\n    });\n    onDayPress = (value) => {\n        this.presenter.onDayPress(this.props.context, value);\n    };\n    onScroll = (event) => {\n        const x = event.nativeEvent.contentOffset.x;\n        const { onScroll } = this.presenter;\n        const { context } = this.props;\n        const { items } = this.state;\n        const { containerWidth, page } = this;\n        const updateState = (newData, newPage) => {\n            this.page = newPage;\n            this.setState({ items: [...newData] });\n        };\n        onScroll({ context, updateState, x, page, items, width: containerWidth });\n    };\n    onMomentumScrollEnd = () => {\n        const { items } = this.state;\n        const { onMomentumScrollEnd } = this.presenter;\n        const updateItems = (items) => {\n            setTimeout(() => {\n                this.setState({ items: [...items] });\n            }, 100);\n        };\n        onMomentumScrollEnd({ items, props: this.props, page: this.page, updateItems });\n    };\n    renderItem = ({ item }) => {\n        const { style, onDayPress, markedDates, firstDay, ...others } = extractComponentProps(Week, this.props);\n        const { context } = this.props;\n        const isSameWeek = this.presenter.isSameWeek(item, context.date, firstDay);\n        const currentContext = isSameWeek ? context : undefined;\n        return (<Week {...others} key={item} current={item} firstDay={firstDay} style={this.getWeekStyle(this.containerWidth, style)} markedDates={markedDates} onDayPress={onDayPress || this.onDayPress} context={currentContext}/>);\n    };\n    getItemLayout = (_, index) => {\n        return {\n            length: this.containerWidth,\n            offset: this.containerWidth * index,\n            index\n        };\n    };\n    keyExtractor = (_, index) => index.toString();\n    renderWeekDaysNames = memoize(weekDaysNames => {\n        return weekDaysNames.map((day, index) => (<Text allowFontScaling={false} key={index} style={this.style.dayHeader} numberOfLines={1} accessibilityLabel={''}>\n        {day}\n      </Text>));\n    });\n    render() {\n        const { allowShadow, firstDay, hideDayNames, current, context } = this.props;\n        const { items } = this.state;\n        const weekDaysNames = weekDayNames(firstDay);\n        const extraData = Map({\n            current,\n            date: context.date,\n            firstDay\n        });\n        return (<View testID={this.props.testID} style={[allowShadow && this.style.containerShadow, !hideDayNames && this.style.containerWrapper]}>\n        {!hideDayNames && (<View style={[this.style.week, this.style.weekCalendar]}>\n            {/* {this.props.weekNumbers && <Text allowFontScaling={false} style={this.style.dayHeader}></Text>} */}\n            {this.renderWeekDaysNames(weekDaysNames)}\n          </View>)}\n        <FlatList ref={this.presenter.list} data={items} extraData={extraData} style={this.style.container} horizontal showsHorizontalScrollIndicator={false} pagingEnabled scrollEnabled renderItem={this.renderItem} keyExtractor={this.keyExtractor} initialScrollIndex={NUMBER_OF_PAGES} getItemLayout={this.getItemLayout} onScroll={this.onScroll} onMomentumScrollEnd={this.onMomentumScrollEnd}/>\n      </View>);\n    }\n}\nexport default asCalendarConsumer(WeekCalendar);\n"]},"metadata":{},"sourceType":"script"}