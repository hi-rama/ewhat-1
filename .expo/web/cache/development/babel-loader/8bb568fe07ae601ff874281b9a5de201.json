{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _xdate = _interopRequireDefault(require(\"xdate\"));\n\nvar offset = 100;\n\nfunction buildEvent(column, left, width, dayStart) {\n  var startTime = new _xdate.default(column.start);\n  var endTime = column.end ? new _xdate.default(column.end) : new _xdate.default(startTime).addHours(1);\n  var dayStartTime = new _xdate.default(startTime).clearTime();\n  column.top = (dayStartTime.diffHours(startTime) - dayStart) * offset;\n  column.height = startTime.diffHours(endTime) * offset;\n  column.width = width;\n  column.left = left;\n  return column;\n}\n\nfunction collision(a, b) {\n  return a.end > b.start && a.start < b.end;\n}\n\nfunction expand(ev, column, columns) {\n  var colSpan = 1;\n\n  for (var i = column + 1; i < columns.length; i++) {\n    var col = columns[i];\n\n    for (var j = 0; j < col.length; j++) {\n      var ev1 = col[j];\n\n      if (collision(ev, ev1)) {\n        return colSpan;\n      }\n    }\n\n    colSpan++;\n  }\n\n  return colSpan;\n}\n\nfunction pack(columns, width, calculatedEvents, dayStart) {\n  var colLength = columns.length;\n\n  for (var i = 0; i < colLength; i++) {\n    var col = columns[i];\n\n    for (var j = 0; j < col.length; j++) {\n      var colSpan = expand(col[j], i, columns);\n      var L = i / colLength * width;\n      var W = width * colSpan / colLength - 10;\n      calculatedEvents.push(buildEvent(col[j], L, W, dayStart));\n    }\n  }\n}\n\nfunction populateEvents(events, screenWidth, dayStart) {\n  var lastEnd;\n  var columns;\n  var calculatedEvents = [];\n  events = events.map(function (ev, index) {\n    return (0, _extends2.default)({}, ev, {\n      index: index\n    });\n  }).sort(function (a, b) {\n    if (a.start < b.start) return -1;\n    if (a.start > b.start) return 1;\n    if (a.end < b.end) return -1;\n    if (a.end > b.end) return 1;\n    return 0;\n  });\n  columns = [];\n  lastEnd = null;\n  events.forEach(function (ev) {\n    if (lastEnd !== null && ev.start >= lastEnd) {\n      pack(columns, screenWidth, calculatedEvents, dayStart);\n      columns = [];\n      lastEnd = null;\n    }\n\n    var placed = false;\n\n    for (var i = 0; i < columns.length; i++) {\n      var col = columns[i];\n\n      if (!collision(col[col.length - 1], ev)) {\n        col.push(ev);\n        placed = true;\n        break;\n      }\n    }\n\n    if (!placed) {\n      columns.push([ev]);\n    }\n\n    if (lastEnd === null || ev.end > lastEnd) {\n      lastEnd = ev.end;\n    }\n  });\n\n  if (columns.length > 0) {\n    pack(columns, screenWidth, calculatedEvents, dayStart);\n  }\n\n  return calculatedEvents;\n}\n\nvar _default = populateEvents;\nexports.default = _default;","map":{"version":3,"sources":["D:/folder/please-attendence/node_modules/react-native-calendars/src/timeline/Packer.js"],"names":["offset","buildEvent","column","left","width","dayStart","startTime","XDate","start","endTime","end","addHours","dayStartTime","clearTime","top","diffHours","height","collision","a","b","expand","ev","columns","colSpan","i","length","col","j","ev1","pack","calculatedEvents","colLength","L","W","push","populateEvents","events","screenWidth","lastEnd","map","index","sort","forEach","placed"],"mappings":"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","sourcesContent":["// @flow\nimport XDate from 'xdate';\nconst offset = 100;\nfunction buildEvent(column, left, width, dayStart) {\n    const startTime = new XDate(column.start);\n    const endTime = column.end ? new XDate(column.end) : new XDate(startTime).addHours(1);\n    const dayStartTime = new XDate(startTime).clearTime();\n    column.top = (dayStartTime.diffHours(startTime) - dayStart) * offset;\n    column.height = startTime.diffHours(endTime) * offset;\n    column.width = width;\n    column.left = left;\n    return column;\n}\nfunction collision(a, b) {\n    return a.end > b.start && a.start < b.end;\n}\nfunction expand(ev, column, columns) {\n    let colSpan = 1;\n    for (let i = column + 1; i < columns.length; i++) {\n        const col = columns[i];\n        for (let j = 0; j < col.length; j++) {\n            const ev1 = col[j];\n            if (collision(ev, ev1)) {\n                return colSpan;\n            }\n        }\n        colSpan++;\n    }\n    return colSpan;\n}\nfunction pack(columns, width, calculatedEvents, dayStart) {\n    const colLength = columns.length;\n    for (let i = 0; i < colLength; i++) {\n        const col = columns[i];\n        for (let j = 0; j < col.length; j++) {\n            const colSpan = expand(col[j], i, columns);\n            const L = (i / colLength) * width;\n            const W = (width * colSpan) / colLength - 10;\n            calculatedEvents.push(buildEvent(col[j], L, W, dayStart));\n        }\n    }\n}\nfunction populateEvents(events, screenWidth, dayStart) {\n    let lastEnd;\n    let columns;\n    const calculatedEvents = [];\n    events = events\n        .map((ev, index) => ({ ...ev, index: index }))\n        .sort(function (a, b) {\n        if (a.start < b.start)\n            return -1;\n        if (a.start > b.start)\n            return 1;\n        if (a.end < b.end)\n            return -1;\n        if (a.end > b.end)\n            return 1;\n        return 0;\n    });\n    columns = [];\n    lastEnd = null;\n    events.forEach(function (ev) {\n        if (lastEnd !== null && ev.start >= lastEnd) {\n            pack(columns, screenWidth, calculatedEvents, dayStart);\n            columns = [];\n            lastEnd = null;\n        }\n        let placed = false;\n        for (let i = 0; i < columns.length; i++) {\n            const col = columns[i];\n            if (!collision(col[col.length - 1], ev)) {\n                col.push(ev);\n                placed = true;\n                break;\n            }\n        }\n        if (!placed) {\n            columns.push([ev]);\n        }\n        if (lastEnd === null || ev.end > lastEnd) {\n            lastEnd = ev.end;\n        }\n    });\n    if (columns.length > 0) {\n        pack(columns, screenWidth, calculatedEvents, dayStart);\n    }\n    return calculatedEvents;\n}\nexport default populateEvents;\n"]},"metadata":{},"sourceType":"script"}