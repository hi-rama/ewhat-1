{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _extends7 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _native = require(\"@react-navigation/native\");\n\nvar _image = require(\"../../components/Main/image\");\n\nvar _bottomTabs = require(\"@react-navigation/bottom-tabs\");\n\nvar _MaterialIcons = _interopRequireDefault(require(\"react-native-vector-icons/MaterialIcons\"));\n\nvar _asyncStorage = _interopRequireDefault(require(\"@react-native-async-storage/async-storage\"));\n\nvar _expoAppLoading = _interopRequireDefault(require(\"expo-app-loading\"));\n\nvar _InputSubject = _interopRequireDefault(require(\"./InputSubject\"));\n\nvar _Calendar = _interopRequireDefault(require(\"./Calendar\"));\n\nvar _SearchScreen = _interopRequireDefault(require(\"./SearchScreen\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _todolist = _interopRequireDefault(require(\"../../components/layout/todolist\"));\n\nvar _TodoDetailView = _interopRequireDefault(require(\"../../components/layout/TodoDetailView\"));\n\nvar _jsxFileName = \"D:\\\\merge\\\\please-attendence\\\\src\\\\navigation\\\\pages\\\\Main.js\",\n    _this2 = this;\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Tab = (0, _bottomTabs.createBottomTabNavigator)();\n\nvar HomeScreen = function (_React$Component) {\n  (0, _inherits2.default)(HomeScreen, _React$Component);\n\n  var _super = _createSuper(HomeScreen);\n\n  function HomeScreen(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, HomeScreen);\n    _this = _super.call(this, props);\n\n    _this.componentDidMount = function () {\n      _reactNative.AppState.addEventListener('change', _this._handleAppStateChange);\n\n      _this._loadTodos();\n    };\n\n    _this.componentWillUnmount = function () {\n      _reactNative.AppState.removeEventListener('change', _this._handleAppStateChange);\n    };\n\n    _this._handleAppStateChange = function (nextAppState) {\n      if (nextAppState === 'background') {\n        _this._saveTodo(_this.state.todos);\n      }\n\n      _this.setState({\n        appState: nextAppState\n      });\n    };\n\n    _this._saveTodo = function (newTodos) {\n      _asyncStorage.default.setItem('todos', JSON.stringify(newTodos));\n    };\n\n    _this._loadTodos = function _callee() {\n      var getSavedTodos, savedTodos, expiredTodos;\n      return _regenerator.default.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regenerator.default.awrap(_asyncStorage.default.getItem('todos'));\n\n            case 3:\n              getSavedTodos = _context.sent;\n              savedTodos = JSON.parse(getSavedTodos);\n              savedTodos = savedTodos === null ? {} : savedTodos;\n              expiredTodos = _this._findExpiredTodo(savedTodos);\n\n              _this.setState({\n                todos: savedTodos,\n                expiredTodos: expiredTodos\n              });\n\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 10]], Promise);\n    };\n\n    _this._addTodo = function (newTodoTitle) {\n      var _id = Date.now();\n\n      var now = (0, _moment.default)().format('YYYY[-]MM[-]DD');\n      var newTodo = (0, _defineProperty2.default)({}, _id, {\n        id: _id,\n        title: newTodoTitle !== '' ? newTodoTitle : 'New Todo Title',\n        description: '',\n        dueDate: '',\n        createdAt: now,\n        priority: '3',\n        isCompleted: false\n      });\n\n      _this.setState(function (prevState) {\n        var newState = (0, _extends7.default)({}, prevState, {\n          todos: (0, _extends7.default)({}, prevState.todos, newTodo)\n        });\n        newState.expiredTodos = _this._findExpiredTodo(newState.todos);\n        return (0, _extends7.default)({}, newState);\n      });\n    };\n\n    _this._deleteTodo = function (id) {\n      _this.setState(function (prevState) {\n        var todos = prevState.todos;\n        delete todos[id];\n        var newState = (0, _extends7.default)({}, prevState, todos);\n        newState.expiredTodos = _this._findExpiredTodo(newState.todos);\n        return (0, _extends7.default)({}, newState);\n      });\n    };\n\n    _this._deleteManyTodo = function (todoList) {\n      _this.setState(function (prevState) {\n        var todos = prevState.todos;\n        todoList.map(function (todo) {\n          delete todos[todo.id];\n        });\n        var newState = (0, _extends7.default)({}, prevState, todos);\n        newState.expiredTodos = _this._findExpiredTodo(newState.todos);\n        return (0, _extends7.default)({}, newState);\n      });\n    };\n\n    _this._completeToggle = function (id, currentCompleteState) {\n      _this.setState(function (prevState) {\n        var newState = (0, _extends7.default)({}, prevState, {\n          todos: (0, _extends7.default)({}, prevState.todos, (0, _defineProperty2.default)({}, id, (0, _extends7.default)({}, prevState.todos[id], {\n            isCompleted: !currentCompleteState\n          })))\n        });\n        return (0, _extends7.default)({}, newState);\n      });\n    };\n\n    _this._changeTitleText = function (id, text) {\n      _this.setState(function (prevState) {\n        var newState = (0, _extends7.default)({}, prevState, {\n          todos: (0, _extends7.default)({}, prevState.todos, (0, _defineProperty2.default)({}, id, (0, _extends7.default)({}, prevState.todos[id], {\n            title: text\n          })))\n        });\n        return (0, _extends7.default)({}, newState);\n      });\n    };\n\n    _this._changeDescriptionText = function (id, text) {\n      _this.setState(function (prevState) {\n        var newState = (0, _extends7.default)({}, prevState, {\n          todos: (0, _extends7.default)({}, prevState.todos, (0, _defineProperty2.default)({}, id, (0, _extends7.default)({}, prevState.todos[id], {\n            description: text\n          })))\n        });\n        return (0, _extends7.default)({}, newState);\n      });\n    };\n\n    _this._changePriority = function (id, prior) {\n      _this.setState(function (prevState) {\n        var newState = (0, _extends7.default)({}, prevState, {\n          todos: (0, _extends7.default)({}, prevState.todos, (0, _defineProperty2.default)({}, id, (0, _extends7.default)({}, prevState.todos[id], {\n            priority: prior\n          })))\n        });\n        return (0, _extends7.default)({}, newState);\n      });\n    };\n\n    _this._changeDueDate = function (id, date) {\n      _this.setState(function (prevState) {\n        var newState = (0, _extends7.default)({}, prevState, {\n          todos: (0, _extends7.default)({}, prevState.todos, (0, _defineProperty2.default)({}, id, (0, _extends7.default)({}, prevState.todos[id], {\n            dueDate: date\n          })))\n        });\n        newState.expiredTodos = _this._findExpiredTodo(newState.todos);\n        return (0, _extends7.default)({}, newState);\n      });\n    };\n\n    _this._findExpiredTodo = function (todos) {\n      var now = new Date();\n      var expired = [];\n      Object.values(todos).map(function (todo) {\n        if (todo.dueDate !== '') {\n          var splited = todo.dueDate.split('-');\n          var dueDate = new Date(splited[0], splited[1] - 1, splited[2], 23, 59, 59);\n\n          if (dueDate < now) {\n            expired.push(todo);\n          }\n        }\n      });\n      return expired;\n    };\n\n    _this.state = {\n      appState: _reactNative.AppState.currentState,\n      expiredTodos: [],\n      todos: {}\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(HomeScreen, [{\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(_reactNative.View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNative.StatusBar, {\n        barStyle: \"light-content\",\n        backgroundColor: \"#5c3735\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 9\n        }\n      }), _react.default.createElement(_todolist.default, {\n        todos: this.state.todos,\n        addTodo: this._addTodo,\n        deleteTodo: this._deleteTodo,\n        completeStateToggle: this._completeToggle,\n        changeTitleText: this._changeTitleText,\n        changeDescriptionText: this._changeDescriptionText,\n        changePriority: this._changePriority,\n        changeDueDate: this._changeDueDate,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n  return HomeScreen;\n}(_react.default.Component);\n\nvar SearchPage = function SearchPage() {\n  return _react.default.createElement(_reactNative.View, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }\n  }, \"Search\"));\n};\n\nvar CalanderPage = function CalanderPage() {\n  return _react.default.createElement(_Calendar.default, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }\n  });\n};\n\nvar Main = function Main() {\n  return _react.default.createElement(_native.NavigationContainer, {\n    independent: true,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(Tab.Navigator, {\n    initialRouteName: \"Home\",\n    screenOptions: {\n      tabBarActiveTintColor: '#224E41',\n      tabBarShowLabel: false\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(Tab.Screen, {\n    name: \"Home\",\n    component: HomeScreen,\n    options: {\n      title: 'Home',\n      tabBarIcon: function tabBarIcon(_ref) {\n        var color = _ref.color,\n            size = _ref.size;\n        return _react.default.createElement(_MaterialIcons.default, {\n          name: \"home\",\n          color: color,\n          size: size,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 21\n          }\n        });\n      }\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(Tab.Screen, {\n    name: \"Calendar\",\n    component: CalanderPage,\n    options: {\n      title: 'Calendar',\n      tabBarIcon: function tabBarIcon(_ref2) {\n        var color = _ref2.color,\n            size = _ref2.size;\n        return _react.default.createElement(_MaterialIcons.default, {\n          name: \"calendar-today\",\n          color: color,\n          size: size,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 21\n          }\n        });\n      }\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(Tab.Screen, {\n    name: \"AddSub\",\n    component: _InputSubject.default,\n    options: {\n      title: 'Add Subject',\n      tabBarIcon: function tabBarIcon(_ref3) {\n        var color = _ref3.color,\n            size = _ref3.size;\n        return _react.default.createElement(_MaterialIcons.default, {\n          name: \"subject\",\n          color: color,\n          size: size,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 21\n          }\n        });\n      }\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 15\n    }\n  }), _react.default.createElement(Tab.Screen, {\n    name: \"Search\",\n    component: _SearchScreen.default,\n    options: {\n      title: 'Search',\n      tabBarIcon: function tabBarIcon(_ref4) {\n        var color = _ref4.color,\n            size = _ref4.size;\n        return _react.default.createElement(_MaterialIcons.default, {\n          name: \"search\",\n          color: color,\n          size: size,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 21\n          }\n        });\n      }\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 13\n    }\n  })));\n};\n\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#224E41',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\n\nvar _default = Main;\nexports.default = _default;","map":{"version":3,"sources":["D:/merge/please-attendence/src/navigation/pages/Main.js"],"names":["Tab","HomeScreen","props","componentDidMount","AppState","addEventListener","_handleAppStateChange","_loadTodos","componentWillUnmount","removeEventListener","nextAppState","_saveTodo","state","todos","setState","appState","newTodos","AsyncStorage","setItem","JSON","stringify","getItem","getSavedTodos","savedTodos","parse","expiredTodos","_findExpiredTodo","console","log","_addTodo","newTodoTitle","_id","Date","now","format","newTodo","id","title","description","dueDate","createdAt","priority","isCompleted","prevState","newState","_deleteTodo","_deleteManyTodo","todoList","map","todo","_completeToggle","currentCompleteState","_changeTitleText","text","_changeDescriptionText","_changePriority","prior","_changeDueDate","date","expired","Object","values","splited","split","push","currentState","styles","container","React","Component","SearchPage","CalanderPage","Main","tabBarActiveTintColor","tabBarShowLabel","tabBarIcon","color","size","InputSubject","SearchScreen","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import React, { useState,useContext,createContext} from 'react';\nimport {Stylesheet, TextInput, Text, SafeAreaView, useWindowDimensions, View,FlatList,TouchableOpacity, Alert} from 'react-native';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { images } from '../../components/Main/image';\nimport {createBottomTabNavigator} from '@react-navigation/bottom-tabs';\nimport Icon from 'react-native-vector-icons/MaterialIcons';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport AppLoading from 'expo-app-loading';\nimport InputSubject from './InputSubject';\nimport Calendars from './Calendar';\nimport SearchScreen from './SearchScreen';\nimport moment from 'moment';\nimport { StyleSheet } from 'react-native';\nimport { AppState } from 'react-native';\nimport { StatusBar } from 'react-native';\nimport TodoList from '../../components/layout/todolist';\nimport TodoDetailView from '../../components/layout/TodoDetailView';\n\nconst Tab = createBottomTabNavigator();\n\nclass HomeScreen extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      appState: AppState.currentState,\n      expiredTodos: [],\n      todos: {},\n    };\n  }\n\n  // when app component first loaded, load to saved todos and tracking app state\n  componentDidMount = () => {\n    AppState.addEventListener('change', this._handleAppStateChange);\n    this._loadTodos();\n  };\n\n  // when app closed, remove app state changed event listener\n  componentWillUnmount = () => {\n    AppState.removeEventListener('change', this._handleAppStateChange);\n  };\n\n  // when app state is background, save current todos to asyncStorage (local storage)\n  _handleAppStateChange = nextAppState => {\n    if (nextAppState === 'background') {\n      this._saveTodo(this.state.todos);\n    }\n    this.setState({appState: nextAppState});\n  };\n\n  // save current todos to asyncStorage\n  _saveTodo = newTodos => {\n    AsyncStorage.setItem('todos', JSON.stringify(newTodos));\n  };\n\n  // load saved todos from asyncStorage\n  _loadTodos = async () => {\n    try {\n      const getSavedTodos = await AsyncStorage.getItem('todos');\n      let savedTodos = JSON.parse(getSavedTodos);\n      savedTodos = savedTodos === null ? {} : savedTodos; // null check\n      const expiredTodos = this._findExpiredTodo(savedTodos); // search expired todos\n      this.setState({todos: savedTodos, expiredTodos: expiredTodos});\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  // callback function\n  // if you want add new todo in todo list, call this function from child\n  _addTodo = newTodoTitle => {\n    const _id = Date.now(); // name(id) each todo element in todos\n    const now = moment().format('YYYY[-]MM[-]DD');\n    const newTodo = {\n      [_id]: {\n        id: _id,\n        title: newTodoTitle !== '' ? newTodoTitle : 'New Todo Title',\n        description: '',\n        dueDate: '',\n        createdAt: now,\n        priority: '3',\n        isCompleted: false,\n      },\n    };\n    this.setState(prevState => {\n      const newState = {\n        ...prevState,\n        todos: {\n          ...prevState.todos,\n          ...newTodo,\n        },\n      };\n      newState.expiredTodos = this._findExpiredTodo(newState.todos);\n      return {...newState};\n    });\n  };\n\n  // callback function\n  // if you want delete one todo, call this function from child\n  _deleteTodo = id => {\n    this.setState(prevState => {\n      const todos = prevState.todos;\n      delete todos[id];\n      const newState = {\n        ...prevState,\n        ...todos,\n      };\n      newState.expiredTodos = this._findExpiredTodo(newState.todos);\n      return {...newState};\n    });\n  };\n\n  // callback function\n  // if you want delete many todos, call this function from child\n  _deleteManyTodo = todoList => {\n    this.setState(prevState => {\n      const todos = prevState.todos;\n      todoList.map(todo => {\n        delete todos[todo.id];\n      });\n      const newState = {\n        ...prevState,\n        ...todos,\n      };\n      newState.expiredTodos = this._findExpiredTodo(newState.todos);\n      return {...newState};\n    });\n  };\n\n  // callback function\n  // if child component's complete state changed, call this function from child\n  _completeToggle = (id, currentCompleteState) => {\n    this.setState(prevState => {\n      const newState = {\n        ...prevState,\n        todos: {\n          ...prevState.todos,\n          [id]: {\n            ...prevState.todos[id],\n            isCompleted: !currentCompleteState,\n          },\n        },\n      };\n      return {...newState};\n    });\n  };\n\n  // callback function\n  // if child component's title text changed, call this function from child\n  _changeTitleText = (id, text) => {\n    this.setState(prevState => {\n      const newState = {\n        ...prevState,\n        todos: {\n          ...prevState.todos,\n          [id]: {\n            ...prevState.todos[id],\n            title: text,\n          },\n        },\n      };\n      return {...newState};\n    });\n  };\n\n  // callback function\n  // if child component's description changed, call this function from child\n  _changeDescriptionText = (id, text) => {\n    this.setState(prevState => {\n      const newState = {\n        ...prevState,\n        todos: {\n          ...prevState.todos,\n          [id]: {\n            ...prevState.todos[id],\n            description: text,\n          },\n        },\n      };\n      return {...newState};\n    });\n  };\n\n  // callback function\n  // if child component's priority changed, call this function from child\n  _changePriority = (id, prior) => {\n    this.setState(prevState => {\n      const newState = {\n        ...prevState,\n        todos: {\n          ...prevState.todos,\n          [id]: {\n            ...prevState.todos[id],\n            priority: prior,\n          },\n        },\n      };\n      return {...newState};\n    });\n  };\n\n  // callback function\n  // if child component's due date changed, call this function from child\n  _changeDueDate = (id, date) => {\n    this.setState(prevState => {\n      const newState = {\n        ...prevState,\n        todos: {\n          ...prevState.todos,\n          [id]: {\n            ...prevState.todos[id],\n            dueDate: date,\n          },\n        },\n      };\n      newState.expiredTodos = this._findExpiredTodo(newState.todos);\n      return {...newState};\n    });\n  };\n\n  // find Expired Todos in new state of todos\n  _findExpiredTodo = todos => {\n    let now = new Date();\n    let expired = [];\n    Object.values(todos).map(todo => {\n      if (todo.dueDate !== '') {\n        // convert date string to date type object\n        let splited = todo.dueDate.split('-');\n        let dueDate = new Date(\n          splited[0],\n          splited[1] - 1,\n          splited[2],\n          23,\n          59,\n          59,\n        );\n        if (dueDate < now) {\n          expired.push(todo);\n        }\n      }\n    });\n    return expired;\n  };\n\n  render() {\n    return (\n      <View style={styles.container}>\n        <StatusBar barStyle=\"light-content\" backgroundColor=\"#5c3735\" />\n        <TodoList\n          todos={this.state.todos}\n          addTodo={this._addTodo}\n          deleteTodo={this._deleteTodo}\n          completeStateToggle={this._completeToggle}\n          changeTitleText={this._changeTitleText}\n          changeDescriptionText={this._changeDescriptionText}\n          changePriority={this._changePriority}\n          changeDueDate={this._changeDueDate}\n        />\n        </View>\n    );\n  }\n}\n\n\n/*\nconst AddSubjectPage = () =>{\n  const [count, setcount] = useState(0);\n  const Subject = () => {\n  const {subject} = useContext(SubjectContext);\n  return <Text>Number: {subject.number}</Text>;\n}\n  const SubjectContext = createContext({\n    subject: {number: 6},\n    dispatch: () => {},\n});\n  const SubjectProvider = ({children}) => {\n  const [count, setcount] = useState(0);\n\n  const value = {subject: {count}, dispatch: setcount};\n  return <SubjectContext.Provider value = {value}>{children}</SubjectContext.Provider>\n};\n  const SubjectConsumer = SubjectContext.Consumer;\n  const {dispatch} = useContext(SubjectContext);\n  return (\n    <TextInput \n          value = {count}\n          onChangeText = {text => setcount(text)}\n          onSubmitEditing = {() => {\n              dispatch(count);\n              setcount();\n          }}\n          placeholder = \"How many lectures do you take?\"\n          autoCapitalize = \"none\"\n          autoCorrect = {false}\n          returnKeyType = \"done\"\n          keyboardType = \"number-pad\"\n      />\n  );\n\n//   //\n\n\n// const Inputnames = () => {\n//     const width = useWindowDimensions.width;\n//     return <StyledInput width = {width} placeholder = {placeholder} maxLength = {50}/>;\n// }\n\n}\n*/\n\nconst SearchPage = () =>{\n   return(\n      <View>\n      <Text>Search</Text>\n      </View>\n   );\n}\n\nconst CalanderPage = () =>{\n   return(\n      <Calendars />\n   )\n}\n\nconst Main = () => {\n   return(\n          <NavigationContainer independent = {true}>\n            <Tab.Navigator\n              initialRouteName=\"Home\"\n              screenOptions={{\n                tabBarActiveTintColor: '#224E41',\n                tabBarShowLabel: false,\n              }}>\n            <Tab.Screen\n                name=\"Home\"\n                component={HomeScreen}\n                options={{\n                  title: 'Home',\n                  tabBarIcon: ({color, size}) => (\n                    <Icon name=\"home\" color={color} size={size} />\n                  ),\n                }}\n              />\n            <Tab.Screen\n                name=\"Calendar\"\n                component={CalanderPage}\n                options={{\n                  title: 'Calendar',\n                  tabBarIcon: ({color, size}) => (\n                    <Icon name=\"calendar-today\" color={color} size={size} />\n                  ),\n                }}\n              />\n              <Tab.Screen\n                name=\"AddSub\"\n                component={InputSubject}\n                options={{\n                  title: 'Add Subject',\n                  tabBarIcon: ({color, size}) => (\n                    <Icon name=\"subject\" color={color} size={size} />\n                  ),\n                }}\n              />\n            <Tab.Screen\n                name=\"Search\"\n                component={SearchScreen}\n                options={{\n                  title: 'Search',\n                  tabBarIcon: ({color, size}) => (\n                    <Icon name=\"search\" color={color} size={size} />\n                  ),\n                }}\n              />\n\n            </Tab.Navigator>\n          </NavigationContainer>\n\n  \n   )\n  };\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#224E41',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n});\nexport default Main;\n\n/*\n<Tab.Screen\nname=\"Review\"\ncomponent={ReviewPage}\noptions={{\n  title: 'Review',\n  tabBarIcon: ({color, size}) => (\n    <Icon name=\"message\" color={color} size={size} />\n  ),\n}}\n/>\n*/"]},"metadata":{},"sourceType":"script"}