{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _xdate = _interopRequireDefault(require(\"xdate\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _interface = require(\"../../interface\");\n\nvar _style = _interopRequireDefault(require(\"../style\"));\n\nvar _ = _interopRequireDefault(require(\".\"));\n\nvar _Presenter = _interopRequireDefault(require(\"./Presenter\"));\n\nvar _jsxFileName = \"D:\\\\folder\\\\please-attendence\\\\node_modules\\\\react-native-calendars\\\\src\\\\expandableCalendar\\\\Context\\\\Provider.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar commons = require('../commons');\n\nvar updateSources = commons.UpdateSources;\nvar TOP_POSITION = 65;\n\nvar CalendarProvider = function (_Component) {\n  (0, _inherits2.default)(CalendarProvider, _Component);\n\n  var _super = _createSuper(CalendarProvider);\n\n  function CalendarProvider() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, CalendarProvider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.style = (0, _style.default)(_this.props.theme);\n    _this.presenter = new _Presenter.default();\n    _this.state = {\n      prevDate: _this.props.date || (0, _interface.toMarkingFormat)(new _xdate.default()),\n      date: _this.props.date || (0, _interface.toMarkingFormat)(new _xdate.default()),\n      updateSource: updateSources.CALENDAR_INIT,\n      buttonY: new _reactNative.Animated.Value(_this.props.todayBottomMargin ? -_this.props.todayBottomMargin : -TOP_POSITION),\n      buttonIcon: _this.presenter.getButtonIcon(_this.props.date, _this.props.showTodayButton),\n      disabled: false,\n      opacity: new _reactNative.Animated.Value(1)\n    };\n\n    _this.getProviderContextValue = function () {\n      return {\n        setDate: _this.setDate,\n        date: _this.state.date,\n        prevDate: _this.state.prevDate,\n        updateSource: _this.state.updateSource,\n        setDisabled: _this.setDisabled\n      };\n    };\n\n    _this.setDate = function (date, updateSource) {\n      var setDate = _this.presenter.setDate;\n      var d = date instanceof Date ? date : new Date(date);\n\n      var updateState = function updateState(buttonIcon) {\n        _this.setState({\n          date: date,\n          prevDate: _this.state.date,\n          updateSource: updateSource,\n          buttonIcon: buttonIcon\n        }, function () {\n          _this.animateTodayButton(d);\n        });\n      };\n\n      setDate(_this.props, d, _this.state.date, updateState, updateSource);\n    };\n\n    _this.setDisabled = function (disabled) {\n      var setDisabled = _this.presenter.setDisabled;\n      var _this$props$showToday = _this.props.showTodayButton,\n          showTodayButton = _this$props$showToday === void 0 ? false : _this$props$showToday;\n\n      var updateState = function updateState(disabled) {\n        _this.setState({\n          disabled: disabled\n        });\n\n        _this.animateOpacity(disabled);\n      };\n\n      setDisabled(showTodayButton, disabled, _this.state.disabled, updateState);\n    };\n\n    _this.onTodayPress = function () {\n      var today = _this.presenter.getTodayDate();\n\n      _this.setDate(today, updateSources.TODAY_PRESS);\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(CalendarProvider, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.date !== this.props.date) {\n        this.setDate(this.props.date, updateSources.PROP_UPDATE);\n      }\n    }\n  }, {\n    key: \"animateTodayButton\",\n    value: function animateTodayButton(date) {\n      var _this$presenter = this.presenter,\n          shouldAnimateTodayButton = _this$presenter.shouldAnimateTodayButton,\n          getPositionAnimation = _this$presenter.getPositionAnimation;\n\n      if (shouldAnimateTodayButton(this.props)) {\n        var animationData = getPositionAnimation(date, this.props.todayBottomMargin);\n\n        _reactNative.Animated.spring(this.state.buttonY, (0, _extends2.default)({}, animationData)).start();\n      }\n    }\n  }, {\n    key: \"animateOpacity\",\n    value: function animateOpacity(disabled) {\n      var _this$presenter2 = this.presenter,\n          shouldAnimateOpacity = _this$presenter2.shouldAnimateOpacity,\n          getOpacityAnimation = _this$presenter2.getOpacityAnimation;\n\n      if (shouldAnimateOpacity(this.props)) {\n        var animationData = getOpacityAnimation(this.props, disabled);\n\n        _reactNative.Animated.timing(this.state.opacity, (0, _extends2.default)({}, animationData)).start();\n      }\n    }\n  }, {\n    key: \"renderTodayButton\",\n    value: function renderTodayButton() {\n      var _this$state = this.state,\n          disabled = _this$state.disabled,\n          opacity = _this$state.opacity,\n          buttonY = _this$state.buttonY,\n          buttonIcon = _this$state.buttonIcon;\n      var getTodayFormatted = this.presenter.getTodayFormatted;\n      var today = getTodayFormatted();\n      return _react.default.createElement(_reactNative.Animated.View, {\n        style: [this.style.todayButtonContainer, {\n          transform: [{\n            translateY: buttonY\n          }]\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.TouchableOpacity, {\n        style: [this.style.todayButton, this.props.todayButtonStyle],\n        onPress: this.onTodayPress,\n        disabled: disabled,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNative.Animated.Image, {\n        style: [this.style.todayButtonImage, {\n          opacity: opacity\n        }],\n        source: buttonIcon,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }\n      }), _react.default.createElement(_reactNative.Animated.Text, {\n        allowFontScaling: false,\n        style: [this.style.todayButtonText, {\n          opacity: opacity\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }\n      }, today)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(_.default.Provider, {\n        value: this.getProviderContextValue(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: [styles.container, this.props.style],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 9\n        }\n      }, this.props.children), this.props.showTodayButton && this.renderTodayButton());\n    }\n  }]);\n  return CalendarProvider;\n}(_react.Component);\n\nCalendarProvider.displayName = 'CalendarProvider';\nCalendarProvider.propTypes = {\n  date: _propTypes.default.any.isRequired,\n  onDateChanged: _propTypes.default.func,\n  onMonthChange: _propTypes.default.func,\n  showTodayButton: _propTypes.default.bool,\n  todayBottomMargin: _propTypes.default.number,\n  todayButtonStyle: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.number, _propTypes.default.array]),\n  disabledOpacity: _propTypes.default.number\n};\nvar _default = CalendarProvider;\nexports.default = _default;\n\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    flex: 1\n  }\n});","map":{"version":3,"sources":["D:/folder/please-attendence/node_modules/react-native-calendars/src/expandableCalendar/Context/Provider.js"],"names":["commons","require","updateSources","UpdateSources","TOP_POSITION","CalendarProvider","style","props","theme","presenter","Presenter","state","prevDate","date","XDate","updateSource","CALENDAR_INIT","buttonY","Animated","Value","todayBottomMargin","buttonIcon","getButtonIcon","showTodayButton","disabled","opacity","getProviderContextValue","setDate","setDisabled","d","Date","updateState","setState","animateTodayButton","animateOpacity","onTodayPress","today","getTodayDate","TODAY_PRESS","prevProps","PROP_UPDATE","shouldAnimateTodayButton","getPositionAnimation","animationData","spring","start","shouldAnimateOpacity","getOpacityAnimation","timing","getTodayFormatted","todayButtonContainer","transform","translateY","todayButton","todayButtonStyle","todayButtonImage","todayButtonText","styles","container","children","renderTodayButton","Component","displayName","propTypes","PropTypes","any","isRequired","onDateChanged","func","onMonthChange","bool","number","oneOfType","object","array","disabledOpacity","StyleSheet","create","flex"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;AACA,IAAMA,OAAO,GAAGC,OAAO,CAAC,YAAD,CAAvB;;AACA,IAAMC,aAAa,GAAGF,OAAO,CAACG,aAA9B;AACA,IAAMC,YAAY,GAAG,EAArB;;IAKMC,gB;;;;;;;;;;;;;;;UAkBFC,K,GAAQ,oBAAiB,MAAKC,KAAL,CAAWC,KAA5B,C;UACRC,S,GAAY,IAAIC,kBAAJ,E;UACZC,K,GAAQ;AACJC,MAAAA,QAAQ,EAAE,MAAKL,KAAL,CAAWM,IAAX,IAAmB,gCAAgB,IAAIC,cAAJ,EAAhB,CADzB;AAEJD,MAAAA,IAAI,EAAE,MAAKN,KAAL,CAAWM,IAAX,IAAmB,gCAAgB,IAAIC,cAAJ,EAAhB,CAFrB;AAGJC,MAAAA,YAAY,EAAEb,aAAa,CAACc,aAHxB;AAIJC,MAAAA,OAAO,EAAE,IAAIC,sBAASC,KAAb,CAAmB,MAAKZ,KAAL,CAAWa,iBAAX,GAA+B,CAAC,MAAKb,KAAL,CAAWa,iBAA3C,GAA+D,CAAChB,YAAnF,CAJL;AAKJiB,MAAAA,UAAU,EAAE,MAAKZ,SAAL,CAAea,aAAf,CAA6B,MAAKf,KAAL,CAAWM,IAAxC,EAA8C,MAAKN,KAAL,CAAWgB,eAAzD,CALR;AAMJC,MAAAA,QAAQ,EAAE,KANN;AAOJC,MAAAA,OAAO,EAAE,IAAIP,sBAASC,KAAb,CAAmB,CAAnB;AAPL,K;;UAcRO,uB,GAA0B,YAAM;AAC5B,aAAO;AACHC,QAAAA,OAAO,EAAE,MAAKA,OADX;AAEHd,QAAAA,IAAI,EAAE,MAAKF,KAAL,CAAWE,IAFd;AAGHD,QAAAA,QAAQ,EAAE,MAAKD,KAAL,CAAWC,QAHlB;AAIHG,QAAAA,YAAY,EAAE,MAAKJ,KAAL,CAAWI,YAJtB;AAKHa,QAAAA,WAAW,EAAE,MAAKA;AALf,OAAP;AAOH,K;;UACDD,O,GAAU,UAACd,IAAD,EAAOE,YAAP,EAAwB;AAC9B,UAAQY,OAAR,GAAoB,MAAKlB,SAAzB,CAAQkB,OAAR;AACA,UAAME,CAAC,GAAGhB,IAAI,YAAYiB,IAAhB,GAAuBjB,IAAvB,GAA8B,IAAIiB,IAAJ,CAASjB,IAAT,CAAxC;;AACA,UAAMkB,WAAW,GAAG,SAAdA,WAAc,CAACV,UAAD,EAAgB;AAChC,cAAKW,QAAL,CAAc;AAAEnB,UAAAA,IAAI,EAAJA,IAAF;AAAQD,UAAAA,QAAQ,EAAE,MAAKD,KAAL,CAAWE,IAA7B;AAAmCE,UAAAA,YAAY,EAAZA,YAAnC;AAAiDM,UAAAA,UAAU,EAAVA;AAAjD,SAAd,EAA6E,YAAM;AAC/E,gBAAKY,kBAAL,CAAwBJ,CAAxB;AACH,SAFD;AAGH,OAJD;;AAKAF,MAAAA,OAAO,CAAC,MAAKpB,KAAN,EAAasB,CAAb,EAAgB,MAAKlB,KAAL,CAAWE,IAA3B,EAAiCkB,WAAjC,EAA8ChB,YAA9C,CAAP;AACH,K;;UACDa,W,GAAc,UAACJ,QAAD,EAAc;AACxB,UAAQI,WAAR,GAAwB,MAAKnB,SAA7B,CAAQmB,WAAR;AACA,kCAAoC,MAAKrB,KAAzC,CAAQgB,eAAR;AAAA,UAAQA,eAAR,sCAA0B,KAA1B;;AACA,UAAMQ,WAAW,GAAG,SAAdA,WAAc,CAACP,QAAD,EAAc;AAC9B,cAAKQ,QAAL,CAAc;AAAER,UAAAA,QAAQ,EAARA;AAAF,SAAd;;AACA,cAAKU,cAAL,CAAoBV,QAApB;AACH,OAHD;;AAIAI,MAAAA,WAAW,CAACL,eAAD,EAAkBC,QAAlB,EAA4B,MAAKb,KAAL,CAAWa,QAAvC,EAAiDO,WAAjD,CAAX;AACH,K;;UAmBDI,Y,GAAe,YAAM;AACjB,UAAMC,KAAK,GAAG,MAAK3B,SAAL,CAAe4B,YAAf,EAAd;;AACA,YAAKV,OAAL,CAAaS,KAAb,EAAoBlC,aAAa,CAACoC,WAAlC;AACH,K;;;;;;;WAtDD,4BAAmBC,SAAnB,EAA8B;AAC1B,UAAIA,SAAS,CAAC1B,IAAV,KAAmB,KAAKN,KAAL,CAAWM,IAAlC,EAAwC;AACpC,aAAKc,OAAL,CAAa,KAAKpB,KAAL,CAAWM,IAAxB,EAA8BX,aAAa,CAACsC,WAA5C;AACH;AACJ;;;WA6BD,4BAAmB3B,IAAnB,EAAyB;AACrB,4BAA2D,KAAKJ,SAAhE;AAAA,UAAQgC,wBAAR,mBAAQA,wBAAR;AAAA,UAAkCC,oBAAlC,mBAAkCA,oBAAlC;;AACA,UAAID,wBAAwB,CAAC,KAAKlC,KAAN,CAA5B,EAA0C;AACtC,YAAMoC,aAAa,GAAGD,oBAAoB,CAAC7B,IAAD,EAAO,KAAKN,KAAL,CAAWa,iBAAlB,CAA1C;;AACAF,8BAAS0B,MAAT,CAAgB,KAAKjC,KAAL,CAAWM,OAA3B,6BACO0B,aADP,GAEGE,KAFH;AAGH;AACJ;;;WACD,wBAAerB,QAAf,EAAyB;AACrB,6BAAsD,KAAKf,SAA3D;AAAA,UAAQqC,oBAAR,oBAAQA,oBAAR;AAAA,UAA8BC,mBAA9B,oBAA8BA,mBAA9B;;AACA,UAAID,oBAAoB,CAAC,KAAKvC,KAAN,CAAxB,EAAsC;AAClC,YAAMoC,aAAa,GAAGI,mBAAmB,CAAC,KAAKxC,KAAN,EAAaiB,QAAb,CAAzC;;AACAN,8BAAS8B,MAAT,CAAgB,KAAKrC,KAAL,CAAWc,OAA3B,6BACOkB,aADP,GAEGE,KAFH;AAGH;AACJ;;;WAKD,6BAAoB;AAChB,wBAAmD,KAAKlC,KAAxD;AAAA,UAAQa,QAAR,eAAQA,QAAR;AAAA,UAAkBC,OAAlB,eAAkBA,OAAlB;AAAA,UAA2BR,OAA3B,eAA2BA,OAA3B;AAAA,UAAoCI,UAApC,eAAoCA,UAApC;AACA,UAAQ4B,iBAAR,GAA8B,KAAKxC,SAAnC,CAAQwC,iBAAR;AACA,UAAMb,KAAK,GAAGa,iBAAiB,EAA/B;AACA,aAAQ,6BAAC,qBAAD,CAAU,IAAV;AAAe,QAAA,KAAK,EAAE,CAAC,KAAK3C,KAAL,CAAW4C,oBAAZ,EAAkC;AAAEC,UAAAA,SAAS,EAAE,CAAC;AAAEC,YAAAA,UAAU,EAAEnC;AAAd,WAAD;AAAb,SAAlC,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACR,6BAAC,6BAAD;AAAkB,QAAA,KAAK,EAAE,CAAC,KAAKX,KAAL,CAAW+C,WAAZ,EAAyB,KAAK9C,KAAL,CAAW+C,gBAApC,CAAzB;AAAgF,QAAA,OAAO,EAAE,KAAKnB,YAA9F;AAA4G,QAAA,QAAQ,EAAEX,QAAtH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,6BAAC,qBAAD,CAAU,KAAV;AAAgB,QAAA,KAAK,EAAE,CAAC,KAAKlB,KAAL,CAAWiD,gBAAZ,EAA8B;AAAE9B,UAAAA,OAAO,EAAPA;AAAF,SAA9B,CAAvB;AAAmE,QAAA,MAAM,EAAEJ,UAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,6BAAC,qBAAD,CAAU,IAAV;AAAe,QAAA,gBAAgB,EAAE,KAAjC;AAAwC,QAAA,KAAK,EAAE,CAAC,KAAKf,KAAL,CAAWkD,eAAZ,EAA6B;AAAE/B,UAAAA,OAAO,EAAPA;AAAF,SAA7B,CAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGW,KADH,CAFF,CADQ,CAAR;AAQH;;;WACD,kBAAS;AACL,aAAQ,6BAAC,SAAD,CAAiB,QAAjB;AAA0B,QAAA,KAAK,EAAE,KAAKV,uBAAL,EAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACR,6BAAC,iBAAD;AAAM,QAAA,KAAK,EAAE,CAAC+B,MAAM,CAACC,SAAR,EAAmB,KAAKnD,KAAL,CAAWD,KAA9B,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoD,KAAKC,KAAL,CAAWoD,QAA/D,CADQ,EAEP,KAAKpD,KAAL,CAAWgB,eAAX,IAA8B,KAAKqC,iBAAL,EAFvB,CAAR;AAIH;;;EAtG0BC,gB;;AAAzBxD,gB,CACKyD,W,GAAc,kB;AADnBzD,gB,CAEK0D,S,GAAY;AAEflD,EAAAA,IAAI,EAAEmD,mBAAUC,GAAV,CAAcC,UAFL;AAIfC,EAAAA,aAAa,EAAEH,mBAAUI,IAJV;AAMfC,EAAAA,aAAa,EAAEL,mBAAUI,IANV;AAQf7C,EAAAA,eAAe,EAAEyC,mBAAUM,IARZ;AAUflD,EAAAA,iBAAiB,EAAE4C,mBAAUO,MAVd;AAYfjB,EAAAA,gBAAgB,EAAEU,mBAAUQ,SAAV,CAAoB,CAACR,mBAAUS,MAAX,EAAmBT,mBAAUO,MAA7B,EAAqCP,mBAAUU,KAA/C,CAApB,CAZH;AAcfC,EAAAA,eAAe,EAAEX,mBAAUO;AAdZ,C;eAsGRlE,gB;;;AACf,IAAMoD,MAAM,GAAGmB,wBAAWC,MAAX,CAAkB;AAC7BnB,EAAAA,SAAS,EAAE;AACPoB,IAAAA,IAAI,EAAE;AADC;AADkB,CAAlB,CAAf","sourcesContent":["import PropTypes from 'prop-types';\nimport XDate from 'xdate';\nimport React, { Component } from 'react';\nimport { StyleSheet, Animated, TouchableOpacity, View } from 'react-native';\nimport { toMarkingFormat } from '../../interface';\nimport styleConstructor from '../style';\nimport CalendarContext from '.';\nimport Presenter from './Presenter';\nconst commons = require('../commons');\nconst updateSources = commons.UpdateSources;\nconst TOP_POSITION = 65;\n/**\n * @description: Calendar context provider component\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/expandableCalendar.js\n */\nclass CalendarProvider extends Component {\n    static displayName = 'CalendarProvider';\n    static propTypes = {\n        /** Initial date in 'yyyy-MM-dd' format. Default = Date() */\n        date: PropTypes.any.isRequired,\n        /** Callback for date change event */\n        onDateChanged: PropTypes.func,\n        /** Callback for month change event */\n        onMonthChange: PropTypes.func,\n        /** Whether to show the today button */\n        showTodayButton: PropTypes.bool,\n        /** Today button's top position */\n        todayBottomMargin: PropTypes.number,\n        /** Today button's style */\n        todayButtonStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n        /** The opacity for the disabled today button (0-1) */\n        disabledOpacity: PropTypes.number\n    };\n    style = styleConstructor(this.props.theme);\n    presenter = new Presenter();\n    state = {\n        prevDate: this.props.date || toMarkingFormat(new XDate()),\n        date: this.props.date || toMarkingFormat(new XDate()),\n        updateSource: updateSources.CALENDAR_INIT,\n        buttonY: new Animated.Value(this.props.todayBottomMargin ? -this.props.todayBottomMargin : -TOP_POSITION),\n        buttonIcon: this.presenter.getButtonIcon(this.props.date, this.props.showTodayButton),\n        disabled: false,\n        opacity: new Animated.Value(1)\n    };\n    componentDidUpdate(prevProps) {\n        if (prevProps.date !== this.props.date) {\n            this.setDate(this.props.date, updateSources.PROP_UPDATE);\n        }\n    }\n    getProviderContextValue = () => {\n        return {\n            setDate: this.setDate,\n            date: this.state.date,\n            prevDate: this.state.prevDate,\n            updateSource: this.state.updateSource,\n            setDisabled: this.setDisabled\n        };\n    };\n    setDate = (date, updateSource) => {\n        const { setDate } = this.presenter;\n        const d = date instanceof Date ? date : new Date(date);\n        const updateState = (buttonIcon) => {\n            this.setState({ date, prevDate: this.state.date, updateSource, buttonIcon }, () => {\n                this.animateTodayButton(d);\n            });\n        };\n        setDate(this.props, d, this.state.date, updateState, updateSource);\n    };\n    setDisabled = (disabled) => {\n        const { setDisabled } = this.presenter;\n        const { showTodayButton = false } = this.props;\n        const updateState = (disabled) => {\n            this.setState({ disabled });\n            this.animateOpacity(disabled);\n        };\n        setDisabled(showTodayButton, disabled, this.state.disabled, updateState);\n    };\n    animateTodayButton(date) {\n        const { shouldAnimateTodayButton, getPositionAnimation } = this.presenter;\n        if (shouldAnimateTodayButton(this.props)) {\n            const animationData = getPositionAnimation(date, this.props.todayBottomMargin);\n            Animated.spring(this.state.buttonY, {\n                ...animationData\n            }).start();\n        }\n    }\n    animateOpacity(disabled) {\n        const { shouldAnimateOpacity, getOpacityAnimation } = this.presenter;\n        if (shouldAnimateOpacity(this.props)) {\n            const animationData = getOpacityAnimation(this.props, disabled);\n            Animated.timing(this.state.opacity, {\n                ...animationData\n            }).start();\n        }\n    }\n    onTodayPress = () => {\n        const today = this.presenter.getTodayDate();\n        this.setDate(today, updateSources.TODAY_PRESS);\n    };\n    renderTodayButton() {\n        const { disabled, opacity, buttonY, buttonIcon } = this.state;\n        const { getTodayFormatted } = this.presenter;\n        const today = getTodayFormatted();\n        return (<Animated.View style={[this.style.todayButtonContainer, { transform: [{ translateY: buttonY }] }]}>\n        <TouchableOpacity style={[this.style.todayButton, this.props.todayButtonStyle]} onPress={this.onTodayPress} disabled={disabled}>\n          <Animated.Image style={[this.style.todayButtonImage, { opacity }]} source={buttonIcon}/>\n          <Animated.Text allowFontScaling={false} style={[this.style.todayButtonText, { opacity }]}>\n            {today}\n          </Animated.Text>\n        </TouchableOpacity>\n      </Animated.View>);\n    }\n    render() {\n        return (<CalendarContext.Provider value={this.getProviderContextValue()}>\n        <View style={[styles.container, this.props.style]}>{this.props.children}</View>\n        {this.props.showTodayButton && this.renderTodayButton()}\n      </CalendarContext.Provider>);\n    }\n}\nexport default CalendarProvider;\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1\n    }\n});\n"]},"metadata":{},"sourceType":"script"}