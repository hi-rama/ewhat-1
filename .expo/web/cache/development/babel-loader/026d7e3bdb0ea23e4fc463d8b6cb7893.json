{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _invoke = _interopRequireDefault(require(\"lodash/invoke\"));\n\nvar _xdate = _interopRequireDefault(require(\"xdate\"));\n\nvar _dateutils = require(\"../../dateutils\");\n\nvar _interface = require(\"../../interface\");\n\nvar commons = require('../commons');\n\nvar TOP_POSITION = 65;\n\nvar Presenter = function () {\n  function Presenter() {\n    var _this = this;\n\n    (0, _classCallCheck2.default)(this, Presenter);\n\n    this._getIconDown = function () {\n      return require('../../img/down.png');\n    };\n\n    this._getIconUp = function () {\n      return require('../../img/up.png');\n    };\n\n    this.getButtonIcon = function (date) {\n      var showTodayButton = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      if (!showTodayButton) {\n        return undefined;\n      }\n\n      var icon = _this._isPastDate(date) ? _this._getIconDown() : _this._getIconUp();\n      return icon;\n    };\n\n    this.setDate = function (props, date, newDate, updateState, updateSource) {\n      var isSameMonth = (0, _dateutils.sameMonth)(new _xdate.default(date), new _xdate.default(newDate));\n\n      var buttonIcon = _this.getButtonIcon(date, props.showTodayButton);\n\n      updateState(buttonIcon);\n      (0, _invoke.default)(props, 'onDateChanged', date, updateSource);\n\n      if (!isSameMonth) {\n        (0, _invoke.default)(props, 'onMonthChange', (0, _interface.xdateToData)(new _xdate.default(date)), updateSource);\n      }\n    };\n\n    this.setDisabled = function (showTodayButton, newDisabledValue, oldDisabledValue, updateState) {\n      if (!showTodayButton || newDisabledValue === oldDisabledValue) {\n        return;\n      }\n\n      updateState(newDisabledValue);\n    };\n\n    this.shouldAnimateTodayButton = function (props) {\n      return props.showTodayButton;\n    };\n\n    this.getTodayDate = function () {\n      return (0, _interface.toMarkingFormat)(new _xdate.default());\n    };\n\n    this.getPositionAnimation = function (date) {\n      var todayBottomMargin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var toValue = (0, _dateutils.isToday)(new _xdate.default(date)) ? TOP_POSITION : -todayBottomMargin || -TOP_POSITION;\n      return {\n        toValue: toValue,\n        tension: 30,\n        friction: 8,\n        useNativeDriver: true\n      };\n    };\n\n    this.shouldAnimateOpacity = function (props) {\n      return props.disabledOpacity;\n    };\n\n    this.getOpacityAnimation = function (_ref, disabled) {\n      var _ref$disabledOpacity = _ref.disabledOpacity,\n          disabledOpacity = _ref$disabledOpacity === void 0 ? 0 : _ref$disabledOpacity;\n      return {\n        toValue: disabled ? disabledOpacity : 1,\n        duration: 500,\n        useNativeDriver: true\n      };\n    };\n\n    this.getTodayFormatted = function () {\n      var todayString = _xdate.default.locales[_xdate.default.defaultLocale].today || commons.todayString;\n      var today = todayString.charAt(0).toUpperCase() + todayString.slice(1);\n      return today;\n    };\n  }\n\n  (0, _createClass2.default)(Presenter, [{\n    key: \"_isPastDate\",\n    value: function _isPastDate(date) {\n      var today = new _xdate.default();\n      var d = new _xdate.default(date);\n\n      if (today.getFullYear() > d.getFullYear()) {\n        return true;\n      }\n\n      if (today.getFullYear() === d.getFullYear()) {\n        if (today.getMonth() > d.getMonth()) {\n          return true;\n        }\n\n        if (today.getMonth() === d.getMonth()) {\n          if (today.getDate() > d.getDate()) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    }\n  }]);\n  return Presenter;\n}();\n\nvar _default = Presenter;\nexports.default = _default;","map":{"version":3,"sources":["D:/folder/please-attendence/node_modules/react-native-calendars/src/expandableCalendar/Context/Presenter.js"],"names":["commons","require","TOP_POSITION","Presenter","_getIconDown","_getIconUp","getButtonIcon","date","showTodayButton","undefined","icon","_isPastDate","setDate","props","newDate","updateState","updateSource","isSameMonth","XDate","buttonIcon","setDisabled","newDisabledValue","oldDisabledValue","shouldAnimateTodayButton","getTodayDate","getPositionAnimation","todayBottomMargin","toValue","tension","friction","useNativeDriver","shouldAnimateOpacity","disabledOpacity","getOpacityAnimation","disabled","duration","getTodayFormatted","todayString","locales","defaultLocale","today","charAt","toUpperCase","slice","d","getFullYear","getMonth","getDate"],"mappings":"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","sourcesContent":["import invoke from 'lodash/invoke';\nimport XDate from 'xdate';\nimport { sameMonth, isToday } from '../../dateutils';\nimport { xdateToData, toMarkingFormat } from '../../interface';\nconst commons = require('../commons');\nconst TOP_POSITION = 65;\nclass Presenter {\n    _isPastDate(date) {\n        const today = new XDate();\n        const d = new XDate(date);\n        if (today.getFullYear() > d.getFullYear()) {\n            return true;\n        }\n        if (today.getFullYear() === d.getFullYear()) {\n            if (today.getMonth() > d.getMonth()) {\n                return true;\n            }\n            if (today.getMonth() === d.getMonth()) {\n                if (today.getDate() > d.getDate()) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    _getIconDown = () => {\n        return require('../../img/down.png');\n    };\n    _getIconUp = () => {\n        return require('../../img/up.png');\n    };\n    getButtonIcon = (date, showTodayButton = true) => {\n        if (!showTodayButton) {\n            return undefined;\n        }\n        const icon = this._isPastDate(date) ? this._getIconDown() : this._getIconUp();\n        return icon;\n    };\n    setDate = (props, date, newDate, updateState, updateSource) => {\n        const isSameMonth = sameMonth(new XDate(date), new XDate(newDate));\n        const buttonIcon = this.getButtonIcon(date, props.showTodayButton);\n        updateState(buttonIcon);\n        invoke(props, 'onDateChanged', date, updateSource);\n        if (!isSameMonth) {\n            invoke(props, 'onMonthChange', xdateToData(new XDate(date)), updateSource);\n        }\n    };\n    setDisabled = (showTodayButton, newDisabledValue, oldDisabledValue, updateState) => {\n        if (!showTodayButton || newDisabledValue === oldDisabledValue) {\n            return;\n        }\n        updateState(newDisabledValue);\n    };\n    shouldAnimateTodayButton = (props) => {\n        return props.showTodayButton;\n    };\n    getTodayDate = () => {\n        return toMarkingFormat(new XDate());\n    };\n    getPositionAnimation = (date, todayBottomMargin = 0) => {\n        const toValue = isToday(new XDate(date)) ? TOP_POSITION : -todayBottomMargin || -TOP_POSITION;\n        return {\n            toValue,\n            tension: 30,\n            friction: 8,\n            useNativeDriver: true\n        };\n    };\n    shouldAnimateOpacity = (props) => {\n        return props.disabledOpacity;\n    };\n    getOpacityAnimation = ({ disabledOpacity = 0 }, disabled) => {\n        return {\n            toValue: disabled ? disabledOpacity : 1,\n            duration: 500,\n            useNativeDriver: true\n        };\n    };\n    getTodayFormatted = () => {\n        // @ts-expect-error\n        const todayString = XDate.locales[XDate.defaultLocale].today || commons.todayString;\n        const today = todayString.charAt(0).toUpperCase() + todayString.slice(1);\n        return today;\n    };\n}\nexport default Presenter;\n"]},"metadata":{},"sourceType":"script"}